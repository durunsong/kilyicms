import{aA as at,l as lt,r as j,w as Oe,a2 as qe,f as Ve,X as Ue,c as D,y as q,z as R,P,u as o,A as p,B as M,R as _,I as V,L as B,al as x,J as w,T as je,aB as rt,M as fe,Q,a6 as ae,aC as ye,aD as we,W as _e,C as ve,a5 as ct,O as te,E as J,aE as He,j as he,aF as it,aG as Xe,g as Ke,D as Ge,s as ut,a4 as pe,aH as ce,n as dt,K as ke,S as xe,aI as ft}from"./vue-CDBYdBif.js";import{g as pt,S as Je,D as le,s as Pe,a as _t,u as Se,b as ne,L as re,_ as H,c as Ye,d as ee,r as mt,e as Ee,f as vt,h as Ze,C as Qe}from"./index-n9fM5Zhe.js";import{u as ht}from"./useWatermark-DxSJn_Tf.js";import{f as gt,e as bt,g as yt,h as wt,c as ge,j as kt,k as xt,l as et,r as St,m as Ct,n as Tt,o as $t,s as Vt}from"./element-BaWQJB8U.js";import"./moment-DgIkdrus.js";import{_ as Et,L as It}from"./index-Bq2sV6AA.js";function Mt(d){d?Pe(_t):Pe(Je)}const ie=at("app",()=>{const d=lt({opened:pt()!==Je,withoutAnimation:!1}),n=j(le.Desktop);return Oe(()=>d.opened,e=>Mt(e)),{device:n,sidebar:d,toggleSidebar:e=>{d.opened=!d.opened,d.withoutAnimation=e},closeSidebar:e=>{d.opened=!1,d.withoutAnimation=e},toggleDevice:e=>{n.value=e}}}),Lt=992,Rt=()=>{const d=ie(),{listenerRouteChange:n}=Se(),r=()=>document.body.getBoundingClientRect().width-1<Lt,v=()=>{if(!document.hidden){const f=r();d.toggleDevice(f?le.Mobile:le.Desktop),f&&d.closeSidebar(!0)}};n(()=>{d.device===le.Mobile&&d.sidebar.opened&&d.closeSidebar(!1)}),qe(()=>{window.addEventListener("resize",v)}),Ve(()=>{r()&&(d.toggleDevice(le.Mobile),d.closeSidebar(!0))}),Ue(()=>{window.removeEventListener("resize",v)})},tt=ie(),At=D(()=>tt.device===le.Mobile),Pt=D(()=>tt.device===le.Desktop);function ue(){return{isMobile:At,isDesktop:Pt}}const Ce=ne(),Dt=D(()=>Ce.layoutMode===re.Left),Ft=D(()=>Ce.layoutMode===re.Top),Nt=D(()=>Ce.layoutMode===re.LeftTop),Bt=d=>{Ce.layoutMode=d};function de(){return{isLeft:Dt,isTop:Ft,isLeftTop:Nt,setLayoutMode:Bt}}const zt={class:"layout-footer"},Wt=q({__name:"index",setup(d){const n="kilyicms",r="v2.3.1";return(v,f)=>(p(),R("footer",zt,"MIT © 2024-PRESENT "+P(o(r))+" "+P(o(n)),1))}}),Ot=H(Wt,[["__scopeId","data-v-ce5c3d26"]]),qt={class:"app-main"},Ut={class:"app-scrollbar"},jt=q({__name:"AppMain",setup(d){const n=Ye(),r=ne();return(v,f)=>{const e=x("router-view"),t=x("el-backtop");return p(),R("section",qt,[M("div",Ut,[_(e,null,{default:w(({Component:s,route:c})=>[_(je,{name:"el-fade-in",mode:"out-in"},{default:w(()=>[(p(),V(rt,{include:o(n).cachedViews},[(p(),V(fe(s),{key:c.path,class:"app-container-grow"}))],1032,["include"]))]),_:2},1024)]),_:1}),o(r).showFooter?(p(),V(Ot,{key:0})):B("",!0)]),_(t),_(t,{target:".app-scrollbar"})])}}}),Ie=H(jt,[["__scopeId","data-v-6277cbdd"]]),Ht=q({__name:"index",props:{isActive:{type:Boolean,default:!1}},emits:["toggleClick"],setup(d,{emit:n}){const r=d,v=n,f=()=>{v("toggleClick")};return(e,t)=>{const s=x("el-icon");return p(),R("div",{onClick:f},[_(s,{size:26,class:"icon"},{default:w(()=>[r.isActive?(p(),V(o(gt),{key:0})):(p(),V(o(bt),{key:1}))]),_:1})])}}}),Xt=H(Ht,[["__scopeId","data-v-b41bfcdb"]]);var Z={},De;function Kt(){if(De)return Z;De=1,Object.defineProperty(Z,"__esModule",{value:!0}),Z.PathError=Z.TokenData=void 0,Z.parse=i,Z.compile=a,Z.match=k,Z.pathToRegexp=h,Z.stringify=W;const d="/",n=l=>l,r=/^[$_\p{ID_Start}]$/u,v=/^[$\u200c\u200d\p{ID_Continue}]$/u,f={"{":"{","}":"}","(":"(",")":")","[":"[","]":"]","+":"+","?":"?","!":"!"};function e(l){return l.replace(/[{}()\[\]+?!:*\\]/g,"\\$&")}function t(l){return l.replace(/[.+*?^${}()[\]|/\\]/g,"\\$&")}class s{constructor(g,S){this.tokens=g,this.originalPath=S}}Z.TokenData=s;class c extends TypeError{constructor(g,S){let E=g;S&&(E+=`: ${S}`),E+="; visit https://git.new/pathToRegexpError for info",super(E),this.originalPath=S}}Z.PathError=c;function i(l,g={}){const{encodePath:S=n}=g,E=[...l],T=[];let u=0,C=0;function L(){let $="";if(r.test(E[u]))do $+=E[u++];while(v.test(E[u]));else if(E[u]==='"'){let O=u;for(;u++<E.length;){if(E[u]==='"'){u++,O=0;break}E[u]==="\\"&&u++,$+=E[u]}if(O)throw new c(`Unterminated quote at index ${O}`,l)}if(!$)throw new c(`Missing parameter name at index ${u}`,l);return $}for(;u<E.length;){const $=E[u],O=f[$];O?T.push({type:O,index:u++,value:$}):$==="\\"?T.push({type:"escape",index:u++,value:E[u++]}):$===":"?T.push({type:"param",index:u++,value:L()}):$==="*"?T.push({type:"wildcard",index:u++,value:L()}):T.push({type:"char",index:u++,value:$})}T.push({type:"end",index:u,value:""});function I($){const O=[];for(;;){const X=T[C++];if(X.type===$)break;if(X.type==="char"||X.type==="escape"){let Y=X.value,se=T[C];for(;se.type==="char"||se.type==="escape";)Y+=se.value,se=T[++C];O.push({type:"text",value:S(Y)});continue}if(X.type==="param"||X.type==="wildcard"){O.push({type:X.type,name:X.value});continue}if(X.type==="{"){O.push({type:"group",tokens:I("}")});continue}throw new c(`Unexpected ${X.type} at index ${X.index}, expected ${$}`,l)}return O}return new s(I("end"),l)}function a(l,g={}){const{encode:S=encodeURIComponent,delimiter:E=d}=g,T=typeof l=="object"?l:i(l,g),u=m(T.tokens,E,S);return function(L={}){const[I,...$]=u(L);if($.length)throw new TypeError(`Missing parameters: ${$.join(", ")}`);return I}}function m(l,g,S){const E=l.map(T=>y(T,g,S));return T=>{const u=[""];for(const C of E){const[L,...I]=C(T);u[0]+=L,u.push(...I)}return u}}function y(l,g,S){if(l.type==="text")return()=>[l.value];if(l.type==="group"){const T=m(l.tokens,g,S);return u=>{const[C,...L]=T(u);return L.length?[""]:[C]}}const E=S||n;return l.type==="wildcard"&&S!==!1?T=>{const u=T[l.name];if(u==null)return["",l.name];if(!Array.isArray(u)||u.length===0)throw new TypeError(`Expected "${l.name}" to be a non-empty array`);return[u.map((C,L)=>{if(typeof C!="string")throw new TypeError(`Expected "${l.name}/${L}" to be a string`);return E(C)}).join(g)]}:T=>{const u=T[l.name];if(u==null)return["",l.name];if(typeof u!="string")throw new TypeError(`Expected "${l.name}" to be a string`);return[E(u)]}}function k(l,g={}){const{decode:S=decodeURIComponent,delimiter:E=d}=g,{regexp:T,keys:u}=h(l,g),C=u.map(L=>S===!1?n:L.type==="param"?S:I=>I.split(E).map(S));return function(I){const $=T.exec(I);if(!$)return!1;const O=$[0],X=Object.create(null);for(let Y=1;Y<$.length;Y++){if($[Y]===void 0)continue;const se=u[Y-1],st=C[Y-1];X[se.name]=st($[Y])}return{path:O,params:X}}}function h(l,g={}){const{delimiter:S=d,end:E=!0,sensitive:T=!1,trailing:u=!0}=g,C=[],L=T?"":"i",I=[];for(const X of b(l,[])){const Y=typeof X=="object"?X:i(X,g);for(const se of F(Y.tokens,0,[]))I.push(N(se,S,C,Y.originalPath))}let $=`^(?:${I.join("|")})`;return u&&($+=`(?:${t(S)}$)?`),$+=E?"$":`(?=${t(S)}|$)`,{regexp:new RegExp($,L),keys:C}}function b(l,g){if(Array.isArray(l))for(const S of l)b(S,g);else g.push(l);return g}function*F(l,g,S){if(g===l.length)return yield S;const E=l[g];if(E.type==="group")for(const T of F(E.tokens,0,S.slice()))yield*F(l,g+1,T);else S.push(E);yield*F(l,g+1,S)}function N(l,g,S,E){let T="",u="",C=!0;for(const L of l){if(L.type==="text"){T+=t(L.value),u+=L.value,C||(C=L.value.includes(g));continue}if(L.type==="param"||L.type==="wildcard"){if(!C&&!u)throw new c(`Missing text before "${L.name}" ${L.type}`,E);L.type==="param"?T+=`(${U(g,C?"":u)}+)`:T+="([\\s\\S]+)",S.push(L),u="",C=!1;continue}}return T}function U(l,g){return g.length<2?l.length<2?`[^${t(l+g)}]`:`(?:(?!${t(l)})[^${t(g)}])`:l.length<2?`(?:(?!${t(g)})[^${t(l)}])`:`(?:(?!${t(g)}|${t(l)})[\\s\\S])`}function z(l){let g="",S=0;function E(T){return G(T)&&A(l[S])?T:JSON.stringify(T)}for(;S<l.length;){const T=l[S++];if(T.type==="text"){g+=e(T.value);continue}if(T.type==="group"){g+=`{${z(T.tokens)}}`;continue}if(T.type==="param"){g+=`:${E(T.name)}`;continue}if(T.type==="wildcard"){g+=`*${E(T.name)}`;continue}throw new TypeError(`Unknown token type: ${T.type}`)}return g}function W(l){return z(l.tokens)}function G(l){const[g,...S]=l;return r.test(g)&&S.every(E=>v.test(E))}function A(l){return l&&l.type==="text"?!v.test(l.value[0]):!0}return Z}var Gt=Kt();const Jt={class:"flex items-center"},Yt={key:2,class:"no-redirect"},Zt=["onClick"],Qt=q({__name:"index",setup(d){const{t:n}=ee(),r=ye(),v=we(),{listenerRouteChange:f}=Se(),e=j([]),t=()=>{e.value=r.matched.filter(i=>i.meta?.title&&i.meta?.breadcrumb!==!1)},s=i=>Gt.compile(i)(r.params),c=i=>{const{redirect:a,path:m}=i;if(a){v.push(a);return}v.push(s(m))};return f(i=>{i.path.startsWith("/redirect/")||t()},!0),(i,a)=>{const m=x("SvgIcon"),y=x("el-breadcrumb-item"),k=x("el-breadcrumb");return p(),V(k,null,{default:w(()=>[(p(!0),R(Q,null,ae(e.value,(h,b)=>(p(),V(y,{key:h.path},{default:w(()=>[M("div",Jt,[h.meta?.svgIcon?(p(),V(m,{key:0,name:h.meta.svgIcon,width:"16",height:"16"},null,8,["name"])):h.meta?.elIcon?(p(),V(fe(h.meta.elIcon),{key:1,class:"el-icon"})):B("",!0),h.redirect==="noRedirect"||b===e.value.length-1?(p(),R("span",Yt,P(o(n)(h.meta.title)),1)):(p(),R("a",{key:3,onClick:_e(F=>c(h),["prevent"])},P(o(n)(h.meta.title)),9,Zt))])]),_:2},1024))),128))]),_:1})}}}),en=H(Qt,[["__scopeId","data-v-d8ce2a5b"]]),be=d=>/^(https?:|mailto:|tel:)/.test(d),tn=["href"],nn=q({__name:"SidebarItemLink",props:{to:{}},setup(d){const n=d;return(r,v)=>{const f=x("router-link");return o(be)(n.to)?(p(),R("a",{key:0,href:n.to,target:"_blank",rel:"noopener"},[ve(r.$slots,"default")],8,tn)):(p(),V(f,{key:1,to:n.to},{default:w(()=>[ve(r.$slots,"default")]),_:3},8,["to"]))}}});var Te,Fe;function on(){if(Fe)return Te;Fe=1;function d(f){if(typeof f!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(f))}function n(f,e){for(var t="",s=0,c=-1,i=0,a,m=0;m<=f.length;++m){if(m<f.length)a=f.charCodeAt(m);else{if(a===47)break;a=47}if(a===47){if(!(c===m-1||i===1))if(c!==m-1&&i===2){if(t.length<2||s!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var y=t.lastIndexOf("/");if(y!==t.length-1){y===-1?(t="",s=0):(t=t.slice(0,y),s=t.length-1-t.lastIndexOf("/")),c=m,i=0;continue}}else if(t.length===2||t.length===1){t="",s=0,c=m,i=0;continue}}e&&(t.length>0?t+="/..":t="..",s=2)}else t.length>0?t+="/"+f.slice(c+1,m):t=f.slice(c+1,m),s=m-c-1;c=m,i=0}else a===46&&i!==-1?++i:i=-1}return t}function r(f,e){var t=e.dir||e.root,s=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+s:t+f+s:s}var v={resolve:function(){for(var e="",t=!1,s,c=arguments.length-1;c>=-1&&!t;c--){var i;c>=0?i=arguments[c]:(s===void 0&&(s=process.cwd()),i=s),d(i),i.length!==0&&(e=i+"/"+e,t=i.charCodeAt(0)===47)}return e=n(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(d(e),e.length===0)return".";var t=e.charCodeAt(0)===47,s=e.charCodeAt(e.length-1)===47;return e=n(e,!t),e.length===0&&!t&&(e="."),e.length>0&&s&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return d(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var s=arguments[t];d(s),s.length>0&&(e===void 0?e=s:e+="/"+s)}return e===void 0?".":v.normalize(e)},relative:function(e,t){if(d(e),d(t),e===t||(e=v.resolve(e),t=v.resolve(t),e===t))return"";for(var s=1;s<e.length&&e.charCodeAt(s)===47;++s);for(var c=e.length,i=c-s,a=1;a<t.length&&t.charCodeAt(a)===47;++a);for(var m=t.length,y=m-a,k=i<y?i:y,h=-1,b=0;b<=k;++b){if(b===k){if(y>k){if(t.charCodeAt(a+b)===47)return t.slice(a+b+1);if(b===0)return t.slice(a+b)}else i>k&&(e.charCodeAt(s+b)===47?h=b:b===0&&(h=0));break}var F=e.charCodeAt(s+b),N=t.charCodeAt(a+b);if(F!==N)break;F===47&&(h=b)}var U="";for(b=s+h+1;b<=c;++b)(b===c||e.charCodeAt(b)===47)&&(U.length===0?U+="..":U+="/..");return U.length>0?U+t.slice(a+h):(a+=h,t.charCodeAt(a)===47&&++a,t.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(d(e),e.length===0)return".";for(var t=e.charCodeAt(0),s=t===47,c=-1,i=!0,a=e.length-1;a>=1;--a)if(t=e.charCodeAt(a),t===47){if(!i){c=a;break}}else i=!1;return c===-1?s?"/":".":s&&c===1?"//":e.slice(0,c)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');d(e);var s=0,c=-1,i=!0,a;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var m=t.length-1,y=-1;for(a=e.length-1;a>=0;--a){var k=e.charCodeAt(a);if(k===47){if(!i){s=a+1;break}}else y===-1&&(i=!1,y=a+1),m>=0&&(k===t.charCodeAt(m)?--m===-1&&(c=a):(m=-1,c=y))}return s===c?c=y:c===-1&&(c=e.length),e.slice(s,c)}else{for(a=e.length-1;a>=0;--a)if(e.charCodeAt(a)===47){if(!i){s=a+1;break}}else c===-1&&(i=!1,c=a+1);return c===-1?"":e.slice(s,c)}},extname:function(e){d(e);for(var t=-1,s=0,c=-1,i=!0,a=0,m=e.length-1;m>=0;--m){var y=e.charCodeAt(m);if(y===47){if(!i){s=m+1;break}continue}c===-1&&(i=!1,c=m+1),y===46?t===-1?t=m:a!==1&&(a=1):t!==-1&&(a=-1)}return t===-1||c===-1||a===0||a===1&&t===c-1&&t===s+1?"":e.slice(t,c)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return r("/",e)},parse:function(e){d(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var s=e.charCodeAt(0),c=s===47,i;c?(t.root="/",i=1):i=0;for(var a=-1,m=0,y=-1,k=!0,h=e.length-1,b=0;h>=i;--h){if(s=e.charCodeAt(h),s===47){if(!k){m=h+1;break}continue}y===-1&&(k=!1,y=h+1),s===46?a===-1?a=h:b!==1&&(b=1):a!==-1&&(b=-1)}return a===-1||y===-1||b===0||b===1&&a===y-1&&a===m+1?y!==-1&&(m===0&&c?t.base=t.name=e.slice(1,y):t.base=t.name=e.slice(m,y)):(m===0&&c?(t.name=e.slice(1,a),t.base=e.slice(1,y)):(t.name=e.slice(m,a),t.base=e.slice(m,y)),t.ext=e.slice(a,y)),m>0?t.dir=e.slice(0,m-1):c&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};return v.posix=v,Te=v,Te}var sn=on();const nt=yt(sn),an={key:2},ln=q({__name:"SidebarItem",props:{item:{},basePath:{default:""}},setup(d){const{t:n}=ee(),r=d,v=D(()=>r.item.meta?.alwaysShow),f=D(()=>r.item.children?.filter(c=>!c.meta?.hidden)??[]),e=D(()=>f.value.length),t=D(()=>{const c=e.value;switch(!0){case c>1:return null;case c===1:return f.value[0];default:return{...r.item,path:""}}}),s=c=>{switch(!0){case be(c):return c;case be(r.basePath):return r.basePath;default:return nt.resolve(r.basePath,c)}};return(c,i)=>{const a=x("SvgIcon"),m=x("el-menu-item"),y=x("SidebarItem",!0),k=x("el-sub-menu");return!v.value&&t.value&&!t.value.children?(p(),R(Q,{key:0},[t.value.meta?(p(),V(nn,{key:0,to:s(t.value.path)},{default:w(()=>[_(m,{index:s(t.value.path)},ct({default:w(()=>[t.value.meta.svgIcon?(p(),V(a,{key:0,name:t.value.meta.svgIcon,"aria-hidden":!1},null,8,["name"])):t.value.meta.elIcon?(p(),V(fe(t.value.meta.elIcon),{key:1,class:"el-icon"})):B("",!0)]),_:2},[t.value.meta.title?{name:"title",fn:w(()=>[te(P(o(n)(t.value.meta.title)),1)]),key:"0"}:void 0]),1032,["index"])]),_:1},8,["to"])):B("",!0)],64)):(p(),V(k,{key:1,index:s(r.item.path),teleported:""},{title:w(()=>[r.item.meta?.svgIcon?(p(),V(a,{key:0,name:r.item.meta.svgIcon,"aria-hidden":!1},null,8,["name"])):r.item.meta?.elIcon?(p(),V(fe(r.item.meta.elIcon),{key:1,class:"el-icon"})):B("",!0),r.item.meta?.title?(p(),R("span",an,P(o(n)(r.item.meta.title)),1)):B("",!0)]),default:w(()=>[r.item.children?(p(!0),R(Q,{key:0},ae(f.value,h=>(p(),V(y,{key:h.path,item:h,"base-path":s(h.path)},null,8,["item","base-path"]))),128)):B("",!0)]),_:1},8,["index"]))}}}),rn=H(ln,[["__scopeId","data-v-7ed47e4f"]]),cn="/kilyicms/static/logo-BE7kWN0A.png",un="/kilyicms/static/logo-text-1-CmJ6mPk1.png",dn="/kilyicms/static/logo-text-2-BAee3GBA.png",fn=["src"],pn=["src"],_n=q({__name:"index",props:{collapse:{type:Boolean,default:!0}},setup(d){const n=d,{isLeft:r,isTop:v}=de();return(f,e)=>{const t=x("router-link");return p(),R("div",{class:J(["layout-logo-container",{collapse:n.collapse,"layout-mode-top":o(v)}])},[_(je,{name:"layout-logo-fade"},{default:w(()=>[n.collapse?(p(),V(t,{key:"collapse",to:"/"},{default:w(()=>[M("img",{src:o(cn),class:"layout-logo"},null,8,fn)]),_:1})):(p(),V(t,{key:"expand",to:"/"},{default:w(()=>[M("img",{src:o(r)?o(un):o(dn),class:"layout-logo-text"},null,8,pn)]),_:1}))]),_:1})],2)}}}),Me=H(_n,[["__scopeId","data-v-4b09522a"]]),me=d=>{let n="";try{n=getComputedStyle(document.documentElement).getPropertyValue(d)}catch(r){console.error(r)}return n},Ne=(d,n)=>{try{document.documentElement.style.setProperty(d,n)}catch(r){console.error(r)}},mn=()=>{mt(),location.reload()},vn=q({__name:"index",setup(d){He(A=>({v61e72aca:W.value,d56a2d98:G.value,v0a17b47c:U.value,v7f2b06ea:z.value,v9071b406:N.value}));const n=me("--kilyicms-sidebar-menu-bg-color"),r=me("--kilyicms-sidebar-menu-text-color"),v=me("--kilyicms-sidebar-menu-active-text-color"),{isMobile:f}=ue(),{isLeft:e,isTop:t}=de(),s=ye(),c=ie(),i=Ee(),a=ne(),m=D(()=>{const{meta:{activeMenu:A},path:l}=s;return A||l}),y=D(()=>i.routes.filter(A=>!A.meta?.hidden)),k=D(()=>!c.sidebar.opened),h=D(()=>e.value&&a.showLogo),b=D(()=>e.value?n:void 0),F=D(()=>e.value?r:void 0),N=D(()=>e.value?v:void 0),U=D(()=>t.value?"var(--kilyicms-navigationbar-height)":"var(--kilyicms-sidebar-menu-item-height)"),z=D(()=>t.value?"transparent":"var(--kilyicms-sidebar-menu-hover-bg-color)"),W=D(()=>t.value?"0px":"7px"),G=D(()=>t.value?"none":"block");return(A,l)=>{const g=x("el-menu"),S=x("el-scrollbar");return p(),R("div",{class:J({"has-logo":h.value}),id:"el_tour_visible_1"},[h.value?(p(),V(Me,{key:0,collapse:k.value},null,8,["collapse"])):B("",!0),_(S,{"wrap-class":"scrollbar-wrapper"},{default:w(()=>[_(g,{"default-active":m.value,collapse:k.value&&!o(t),"background-color":b.value,"text-color":F.value,"active-text-color":N.value,"unique-opened":!0,"collapse-transition":!1,mode:o(t)&&!o(f)?"horizontal":"vertical"},{default:w(()=>[(p(!0),R(Q,null,ae(y.value,E=>(p(),V(rn,{key:E.path,item:E,"base-path":E.path},null,8,["item","base-path"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color","mode"])]),_:1})],2)}}}),Le=H(vn,[["__scopeId","data-v-7e8d938a"]]),hn={class:"card-header"},gn={class:"card-title"},bn={class:"card-time"},yn={key:0,class:"card-avatar"},wn=["src"],kn={class:"card-body"},xn=q({__name:"NotifyList",props:{list:{}},setup(d){const n=d;return(r,v)=>{const f=x("el-empty"),e=x("el-tag"),t=x("el-card");return n.list.length===0?(p(),V(f,{key:0})):(p(!0),R(Q,{key:1},ae(n.list,(s,c)=>(p(),V(t,{key:c,shadow:"never",class:"card-container"},{header:w(()=>[M("div",hn,[M("div",null,[M("span",null,[M("span",gn,P(s.title),1),s.extra?(p(),V(e,{key:0,type:s.status,effect:"plain",size:"small"},{default:w(()=>[te(P(s.extra),1)]),_:2},1032,["type"])):B("",!0)]),M("div",bn,P(s.datetime),1)]),s.avatar?(p(),R("div",yn,[M("img",{src:s.avatar,width:"34"},null,8,wn)])):B("",!0)])]),default:w(()=>[M("div",kn,P(s.description??"No Data"),1)]),_:2},1024))),128))}}}),Sn=H(xn,[["__scopeId","data-v-6477402e"]]),Cn=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"Kilyicms 上线啦",datetime:"一周前",description:"一个免费开源的中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus、Pinia 和 Vite 等主流技术"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"Kilyicms 上线啦",datetime:"两周前",description:"一个中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus 和 Pinia"}],Tn=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自楚门的世界",description:"如果再也不能见到你，祝你早安、午安和晚安",datetime:"1998-06-05"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自大话西游",description:"如果非要在这份爱上加上一个期限，我希望是一万年",datetime:"1995-02-04"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自龙猫",description:"心存善意，定能途遇天使",datetime:"1988-04-16"}],$n=[{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"未开始",status:"info"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"进行中",status:"primary"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"已超时",status:"danger"}],Vn={class:"notify"},En={class:"notify-history"},Be=99,In=350,Mn=q({__name:"index",setup(d){const{t:n}=ee(),r=n("notifications"),v=n("messages"),f=n("pending"),e=D(()=>s.value.reduce((i,a)=>i+a.list.length,0)),t=j(r),s=j([{name:r,type:"primary",list:Cn},{name:v,type:"danger",list:Tn},{name:f,type:"warning",list:$n}]),c=()=>{ge.success(n("message_jump_to_history_page",{pageName:t.value}))};return(i,a)=>{const m=x("el-icon"),y=x("el-tooltip"),k=x("el-badge"),h=x("el-scrollbar"),b=x("el-tab-pane"),F=x("el-tabs"),N=x("el-button"),U=x("el-popover");return p(),R("div",Vn,[_(U,{placement:"bottom",width:In,trigger:"click"},{reference:w(()=>[_(k,{value:e.value,max:Be,hidden:e.value===0},{default:w(()=>[_(y,{effect:"dark",content:o(n)("message_notification"),placement:"bottom"},{default:w(()=>[_(m,{size:20,class:"shake-hover"},{default:w(()=>[_(o(wt))]),_:1})]),_:1},8,["content"])]),_:1},8,["value","hidden"])]),default:w(()=>[_(F,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=z=>t.value=z),class:"demo-tabs",stretch:""},{default:w(()=>[(p(!0),R(Q,null,ae(s.value,(z,W)=>(p(),V(b,{name:z.name,key:W},{label:w(()=>[te(P(z.name)+" ",1),_(k,{value:z.list.length,max:Be,type:z.type},null,8,["value","type"])]),default:w(()=>[_(h,{height:"400px"},{default:w(()=>[_(Sn,{list:z.list},null,8,["list"])]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]),M("div",En,[_(N,{link:"",onClick:c},{default:w(()=>[te(P(o(n)("button_view_history",{pageName:t.value})),1)]),_:1})])]),_:1})])}}}),Ln=H(Mn,[["__scopeId","data-v-df6ef66f"]]),ze=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],oe=(()=>{if(typeof document>"u")return!1;const d=ze[0],n={};for(const r of ze)if(r?.[1]in document){for(const[f,e]of r.entries())n[d[f]]=e;return n}return!1})(),We={change:oe.fullscreenchange,error:oe.fullscreenerror};let K={request(d=document.documentElement,n){return new Promise((r,v)=>{const f=()=>{K.off("change",f),r()};K.on("change",f);const e=d[oe.requestFullscreen](n);e instanceof Promise&&e.then(f).catch(v)})},exit(){return new Promise((d,n)=>{if(!K.isFullscreen){d();return}const r=()=>{K.off("change",r),d()};K.on("change",r);const v=document[oe.exitFullscreen]();v instanceof Promise&&v.then(r).catch(n)})},toggle(d,n){return K.isFullscreen?K.exit():K.request(d,n)},onchange(d){K.on("change",d)},onerror(d){K.on("error",d)},on(d,n){const r=We[d];r&&document.addEventListener(r,n,!1)},off(d,n){const r=We[d];r&&document.removeEventListener(r,n,!1)},raw:oe};Object.defineProperties(K,{isFullscreen:{get:()=>!!document[oe.fullscreenElement]},element:{enumerable:!0,get:()=>document[oe.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[oe.fullscreenEnabled]}});oe||(K={isEnabled:!1});const Rn=q({__name:"index",props:{element:{default:"html"},openTips:{},exitTips:{},content:{type:Boolean,default:!1}},setup(d){const{t:n}=ee(),r=d,v=D(()=>r.openTips||n("Enter_full_screen")),f=D(()=>r.exitTips||n("Exit_full_screen")),e=j(!1),t=D(()=>e.value?f.value:v.value),s=D(()=>e.value?"fullscreen-exit":"fullscreen"),c=()=>{const b=document.querySelector(r.element)||void 0;K.isEnabled?K.toggle(b):ge.warning(n("browser_is_not_working"))},i=()=>{e.value=K.isFullscreen,e.value||(document.body.className="")};he(b=>{K.isEnabled&&K.on("change",i),b(()=>{K.isEnabled&&K.off("change",i)})});const a=j(!1),m=D(()=>a.value?n("Content_area_recovery"):n("Content_area_enlargement")),y=D(()=>a.value?"fullscreen-exit":"fullscreen"),k=()=>{a.value=!a.value,document.body.className=a.value?"content-large":""},h=()=>{a.value&&k(),document.body.className="content-full",c()};return(b,F)=>{const N=x("SvgIcon"),U=x("el-tooltip"),z=x("el-dropdown-item"),W=x("el-dropdown-menu"),G=x("el-dropdown");return p(),R("div",null,[d.content?(p(),V(G,{key:1,disabled:e.value},{dropdown:w(()=>[_(W,null,{default:w(()=>[_(z,{onClick:k},{default:w(()=>[te(P(m.value),1)]),_:1}),_(z,{onClick:h},{default:w(()=>[te(P(o(n)("Content_area_full_screen")),1)]),_:1})]),_:1})]),default:w(()=>[_(N,{name:y.value,"aria-hidden":!1},null,8,["name"])]),_:1},8,["disabled"])):(p(),V(U,{key:0,effect:"dark",content:t.value,placement:"bottom"},{default:w(()=>[_(N,{name:s.value,onClick:c,"aria-hidden":!1},null,8,["name"])]),_:1},8,["content"]))])}}}),ot=H(Rn,[["__scopeId","data-v-7263b9f3"]]),An=["onMouseenter"],Pn={class:"result-item-title"},Dn=q({__name:"SearchResult",props:it({list:{},isPressUpOrDown:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(d,{expose:n}){const{t:r}=ee(),v=Xe(d,"modelValue"),f=d,e=Ke(),t=j(0),s=m=>{const y=m.name===v.value;return{background:y?"var(--el-color-primary)":"",color:y?"#ffffff":""}},c=m=>{f.isPressUpOrDown||(v.value=m.name)},i=()=>{t.value=Number((window.innerHeight*.4).toFixed(1))},a=m=>{const y=e?.proxy?.$refs[`resultItemRef${m}`];if(!y)return 0;const h=y[0].offsetTop+128;return h>t.value?h-t.value:0};return qe(()=>{window.addEventListener("resize",i)}),Ve(()=>{i()}),Ue(()=>{window.removeEventListener("resize",i)}),n({getScrollTop:a}),(m,y)=>{const k=x("SvgIcon");return p(),R("div",null,[(p(!0),R(Q,null,ae(d.list,(h,b)=>(p(),R("div",{key:b,ref_for:!0,ref:`resultItemRef${b}`,class:"result-item",style:Ge(s(h)),onMouseenter:F=>c(h)},[h.meta?.svgIcon?(p(),V(k,{key:0,name:h.meta.svgIcon},null,8,["name"])):h.meta?.elIcon?(p(),V(fe(h.meta.elIcon),{key:1,class:"el-icon"})):B("",!0),M("span",Pn,P(o(r)(h.meta?.title)),1),v.value&&v.value===h.name?(p(),V(k,{key:2,name:"keyboard-enter"})):B("",!0)],44,An))),128))])}}}),Fn=H(Dn,[["__scopeId","data-v-be2c8b4d"]]),Nn={class:"search-footer"},Bn={class:"search-footer-item"},zn={class:"search-footer-item"},Wn={class:"search-footer-item"},On={class:"search-footer-total"},qn=q({__name:"SearchFooter",props:{total:{}},setup(d){const{t:n}=ee(),r=d,{isMobile:v}=ue();return(f,e)=>{const t=x("SvgIcon");return p(),R("div",Nn,[o(v)?B("",!0):(p(),R(Q,{key:0},[M("span",Bn,[_(t,{name:"keyboard-enter"}),M("span",null,P(o(n)("confirm_ok_text")),1)]),M("span",zn,[_(t,{name:"keyboard-up"}),_(t,{name:"keyboard-down"}),M("span",null,P(o(n)("switch")),1)]),M("span",Wn,[_(t,{name:"keyboard-esc"}),M("span",null,P(o(n)("close")),1)])],64)),M("span",On,P(o(n)("total_items",{count:r.total})),1)])}}}),Un=H(qn,[["__scopeId","data-v-094b1124"]]),jn=q({__name:"SearchModal",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(d){const{t:n}=ee(),r=Xe(d,"modelValue"),v=we(),{isMobile:f}=ue(),e=j(null),t=j(null),s=j(null),c=j(""),i=ut([]),a=j(void 0),m=j(!1),y=D(()=>f.value?"80vw":"40vw"),k=D(()=>kt(Ee().routes)),h=xt(()=>{const A=b(k.value);i.value=A.filter(g=>{const S=g.meta?.title?n(g.meta.title):"";return c.value?S.toLocaleLowerCase().includes(c.value.toLocaleLowerCase().trim()):!1});const l=i.value?.length;a.value=l>0?i.value[0].name:void 0},500),b=(A,l=[])=>(A.forEach(g=>{l.push(g),g.children&&b(g.children,l)}),l),F=()=>{r.value=!1,setTimeout(()=>{c.value="",i.value=[]},200)},N=A=>{if(!s.value)return;const l=s.value.getScrollTop(A);t.value?.setScrollTop(l)},U=()=>{m.value=!0;const{length:A}=i.value;if(A===0)return;const l=i.value.findIndex(g=>g.name===a.value);if(l===0){const g=i.value[A-1].name;a.value===g&&A>1?(a.value=i.value[A-2].name,N(A-2)):(a.value=g,N(A-1))}else a.value=i.value[l-1].name,N(l-1)},z=()=>{m.value=!0;const{length:A}=i.value;if(A===0)return;const l=i.value.map(g=>g.name).lastIndexOf(a.value);if(l===A-1){const g=i.value[0].name;a.value===g&&A>1?(a.value=i.value[1].name,N(1)):(a.value=g,N(0))}else a.value=i.value[l+1].name,N(l+1)},W=()=>{const{length:A}=i.value;if(A===0)return;const l=a.value,g=i.value.find(S=>S.name===l)?.path;if(g&&be(g)){window.open(g,"_blank","noopener, noreferrer");return}if(!l){ge.warning(n("warning_message_unique_name",{keyword:"Name"}));return}try{v.push({name:l})}catch{ge.error(n("mandatory_dynamic_parameters"));return}F()},G=()=>{m.value=!1};return(A,l)=>{const g=x("SvgIcon"),S=x("el-input"),E=x("el-empty"),T=x("el-dialog");return p(),V(T,{modelValue:r.value,"onUpdate:modelValue":l[2]||(l[2]=u=>r.value=u),onOpened:l[3]||(l[3]=u=>e.value?.focus()),onClosed:l[4]||(l[4]=u=>e.value?.blur()),onKeydown:[pe(U,["up"]),pe(z,["down"]),pe(W,["enter"])],onKeyup:pe(G,["up","down"]),"before-close":F,width:y.value,top:"5vh",class:"search-modal__private","append-to-body":""},{footer:w(()=>[_(Un,{total:i.value.length},null,8,["total"])]),default:w(()=>[_(S,{ref_key:"inputRef",ref:e,modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=u=>c.value=u),onInput:o(h),placeholder:o(n)("search_menu"),size:"large",clearable:""},{prefix:w(()=>[_(g,{name:"search"})]),_:1},8,["modelValue","onInput","placeholder"]),i.value.length===0?(p(),V(E,{key:0,description:o(n)("No_search_results_available"),"image-size":100},null,8,["description"])):(p(),R(Q,{key:1},[M("p",null,P(o(n)("search_results")),1),_(o(et),{ref_key:"scrollbarRef",ref:t,"max-height":"40vh",always:""},{default:w(()=>[_(Fn,{ref_key:"searchResultRef",ref:s,modelValue:a.value,"onUpdate:modelValue":l[1]||(l[1]=u=>a.value=u),list:i.value,isPressUpOrDown:m.value,onClick:W},null,8,["modelValue","list","isPressUpOrDown"])]),_:1},512)],64))]),_:1},8,["modelValue","width"])}}}),Hn=q({__name:"index",setup(d){const{t:n}=ee(),r=j(!1),v=()=>{r.value=!0};return(f,e)=>{const t=x("SvgIcon"),s=x("el-tooltip");return p(),R("div",null,[_(s,{effect:"dark",content:o(n)("search_menu"),placement:"bottom"},{default:w(()=>[_(t,{name:"search",onClick:v,"aria-hidden":!1})]),_:1},8,["content"]),_(jn,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=c=>r.value=c)},null,8,["modelValue"])])}}}),Xn=H(Hn,[["__scopeId","data-v-4db820de"]]),Kn={class:"navigation-bar"},Gn={class:"right-menu"},Jn={class:"right-menu-avatar"},Yn={target:"_blank",href:"https://github.com/durunsong/kilyicms"},Zn={target:"_blank",href:"https://gitee.com/du-runsong/kilyicms"},Qn={block:""},eo=q({__name:"index",setup(d){const{t:n}=ee(),r=we(),{isMobile:v}=ue(),{isTop:f}=de(),e=ie(),t=vt(),s=ne(),{showNotify:c,showThemeSwitch:i,showScreenfull:a,showSearchMenu:m}=ce(s),y=Ze(Qe.USER_INFO),k=j(!1),h=j(1);let b=null;const F=()=>{b||(k.value=!0,b=setInterval(()=>{h.value+=.3;const W=document.querySelector(".rotate");W.style.animationDuration=`${10/h.value}s`},100))},N=()=>{k.value=!1,clearInterval(b),b=null,h.value=1;const W=document.querySelector(".rotate");W.style.animationDuration=`${10/h.value}s`},U=()=>{e.toggleSidebar(!1)},z=()=>{t.logout(),r.replace({path:"/login"})};return(W,G)=>{const A=x("el-tooltip"),l=x("el-avatar"),g=x("el-dropdown-item"),S=x("el-dropdown-menu"),E=x("el-dropdown");return p(),R("div",Kn,[!o(f)||o(v)?(p(),V(Xt,{key:0,"is-active":o(e).sidebar.opened,class:"hamburger",onToggleClick:U,id:"el_tour_visible_2"},null,8,["is-active"])):B("",!0),!o(f)||o(v)?(p(),V(en,{key:1,class:"breadcrumb",id:"el_tour_visible_3"})):B("",!0),o(f)&&!o(v)?(p(),V(Le,{key:2,class:"sidebar"})):B("",!0),M("div",Gn,[o(m)?(p(),V(Xn,{key:0,class:"right-menu-item",id:"el_tour_visible_5"})):B("",!0),o(a)?(p(),V(ot,{key:1,class:"right-menu-item",id:"el_tour_visible_6"})):B("",!0),_(A,{effect:"dark",content:o(n)("Theme_Mode"),placement:"bottom"},{default:w(()=>[o(i)?(p(),V(Et,{key:0,class:"right-menu-item",id:"el_tour_visible_7"})):B("",!0)]),_:1},8,["content"]),_(It,{id:"el_tour_visible_8"}),o(c)?(p(),V(Ln,{key:2,class:"right-menu-item",id:"el_tour_visible_9"})):B("",!0),_(E,{class:"right-menu-item",id:"el_tour_visible_10"},{dropdown:w(()=>[_(S,null,{default:w(()=>[M("a",Yn,[_(g,null,{default:w(()=>[...G[0]||(G[0]=[te("GitHub",-1)])]),_:1})]),M("a",Zn,[_(g,null,{default:w(()=>[...G[1]||(G[1]=[te("Gitee",-1)])]),_:1})]),_(g,{divided:"",onClick:z},{default:w(()=>[M("span",Qn,P(o(n)("log_out")),1)]),_:1})]),_:1})]),default:w(()=>[M("div",Jn,[_(l,{src:o(y).avatar,size:30,class:J(k.value?"rotate":""),onMouseover:F,onMouseleave:N},null,8,["src","class"]),M("span",null,P(o(y).user_name||o(t).user_name),1)])]),_:1})])])}}}),Re=H(eo,[["__scopeId","data-v-3d13c423"]]),to={class:"select-layout-mode"},no=q({__name:"SelectLayoutMode",setup(d){const{t:n}=ee(),{isLeft:r,isTop:v,isLeftTop:f,setLayoutMode:e}=de();return(t,s)=>{const c=x("el-aside"),i=x("el-header"),a=x("el-main"),m=x("el-container"),y=x("el-tooltip");return p(),R("div",to,[_(y,{content:o(n)("Left_side_mode")},{default:w(()=>[_(m,{class:J(["layout-mode left",{active:o(r)}]),onClick:s[0]||(s[0]=k=>o(e)(o(re).Left))},{default:w(()=>[_(c),_(m,null,{default:w(()=>[_(i),_(a)]),_:1})]),_:1},8,["class"])]),_:1},8,["content"]),_(y,{content:o(n)("Top_mode")},{default:w(()=>[_(m,{class:J(["layout-mode top",{active:o(v)}]),onClick:s[1]||(s[1]=k=>o(e)(o(re).Top))},{default:w(()=>[_(i),_(a)]),_:1},8,["class"])]),_:1},8,["content"]),_(y,{content:o(n)("mixed_mode")},{default:w(()=>[_(m,{class:J(["layout-mode left-top",{active:o(f)}]),onClick:s[2]||(s[2]=k=>o(e)(o(re).LeftTop))},{default:w(()=>[_(i),_(m,null,{default:w(()=>[_(c),_(a)]),_:1})]),_:1},8,["class"])]),_:1},8,["content"])])}}}),oo=H(no,[["__scopeId","data-v-6debcc9c"]]),so={class:"setting-container"},ao={class:"setting-name"},lo=q({__name:"index",setup(d){const{t:n}=ee(),{isLeft:r}=de(),v=ne(),{showTagsView:f,showLogo:e,fixedHeader:t,showFooter:s,showNotify:c,showThemeSwitch:i,showScreenfull:a,showSearchMenu:m,cacheTagsView:y,showWatermark:k,showGreyMode:h,showColorWeakness:b}=ce(v),F={[n("show_tab_bar")]:f,[n("show_logo")]:e,[n("fixed_header")]:t,[n("show_footer")]:s,[n("show_notifications")]:c,[n("show_theme_switch_button")]:i,[n("show_fullscreen_button")]:a,[n("show_search_button")]:m,[n("cache_tab_bar")]:y,[n("enable_watermark")]:k,[n("show_gray_mode")]:h,[n("show_weak_mode")]:b};return he(()=>{!r.value&&(t.value=!0)}),(N,U)=>{const z=x("el-divider"),W=x("el-switch"),G=x("el-button");return p(),R("div",so,[M("h4",null,P(o(n)("Layout_configuration")),1),_(oo),_(z),M("h4",null,P(o(n)("functional_configuration")),1),(p(),R(Q,null,ae(F,(A,l,g)=>M("div",{class:"setting-item",key:g},[M("span",ao,P(l),1),_(W,{modelValue:A.value,"onUpdate:modelValue":S=>A.value=S,disabled:!o(r)&&l===o(n)("fixed_header")},null,8,["modelValue","onUpdate:modelValue","disabled"])])),64)),_(G,{type:"danger",icon:o(St),onClick:o(mn)},{default:w(()=>[te(P(o(n)("Reset_layout")),1)]),_:1},8,["icon","onClick"])])}}}),ro=H(lo,[["__scopeId","data-v-330e1a61"]]),co={class:"scroll-container",id:"el_tour_visible_4"},io=200,uo=q({__name:"ScrollPane",props:{tagRefs:{}},setup(d){const n=d,r=ye(),v=ne(),{listenerRouteChange:f}=Se(),e=j(),t=j();let s=0;const c=({scrollLeft:k})=>{s=k},i=({deltaY:k})=>{/^-/.test(k.toString())?m("left"):m("right")},a=()=>{const k=t.value.clientWidth,h=e.value.wrapRef.clientWidth,b=k-h-s;return{scrollbarContentRefWidth:k,scrollbarRefWidth:h,lastDistance:b}},m=(k,h=io)=>{let b=0;const{scrollbarContentRefWidth:F,scrollbarRefWidth:N,lastDistance:U}=a();N>F||(k==="left"?b=Math.max(0,s-h):b=Math.min(s+h,s+U),e.value.setScrollLeft(b))},y=()=>{const k=n.tagRefs;for(let h=0;h<k.length;h++)if(r.path===k[h].$props.to.path){const b=k[h].$el,F=b.offsetWidth,N=b.offsetLeft,{scrollbarRefWidth:U}=a();if(N<s){const W=s-N;m("left",W);return}const z=U+s-F;if(N>z){const W=N-z;m("right",W);return}}};return f(()=>{dt(y)}),(k,h)=>{const b=x("el-icon");return p(),R("div",co,[_(b,{class:"arrow left",onClick:h[0]||(h[0]=F=>m("left"))},{default:w(()=>[_(o(Ct))]),_:1}),_(o(et),{ref_key:"scrollbarRef",ref:e,onWheelPassive:i,onScroll:c},{default:w(()=>[M("div",{ref_key:"scrollbarContentRef",ref:t,class:"scrollbar-content"},[ve(k.$slots,"default",{},void 0,!0)],512)]),_:3},512),_(b,{class:"arrow right",onClick:h[1]||(h[1]=F=>m("right"))},{default:w(()=>[_(o(Tt))]),_:1}),o(v).showScreenfull?(p(),V(ot,{key:0,content:!0,class:"screenfull"})):B("",!0)])}}}),fo=H(uo,[["__scopeId","data-v-b680c1d0"]]),po={class:"tags-view-container"},_o=q({__name:"index",setup(d){const{t:n}=ee(),r=Ke(),v=we(),f=ye(),e=Ye(),t=Ee(),{listenerRouteChange:s}=Se(),c=j([]),i=j(!1),a=j(0),m=j(0),y=j({});let k=[];const h=u=>u.path===f.path,b=u=>u.meta?.affix,F=(u,C="/")=>{const L=[];return u.forEach(I=>{if(b(I)){const $=nt.resolve(C,I.path);L.push({fullPath:$,path:$,name:I.name,meta:{...I.meta}})}if(I.children){const $=F(I.children,I.path);L.push(...$)}}),L},N=()=>{k=F(t.routes);for(const u of k)u.name&&e.addVisitedView(u)},U=u=>{u.name&&(e.addVisitedView(u),e.addCachedView(u))},z=u=>{e.delCachedView(u),v.replace({path:"/redirect"+u.path,query:u.query})},W=u=>{e.delVisitedView(u),e.delCachedView(u),h(u)&&S(e.visitedViews,u)},G=()=>{const u=y.value.fullPath;u!==f.path&&u!==void 0&&v.push(u),e.delOthersVisitedViews(y.value),e.delOthersCachedViews(y.value)},A=u=>{e.delAllVisitedViews(),e.delAllCachedViews(),!k.some(C=>C.path===f.path)&&S(e.visitedViews,u)},l=u=>{const C=e.visitedViews.findIndex(L=>L.path===u.path);C>0&&e.visitedViews.slice(0,C).forEach(I=>{b(I)||(e.delVisitedView(I),e.delCachedView(I))}),h(f)&&S(e.visitedViews,u)},g=u=>{const C=e.visitedViews.findIndex(L=>L.path===u.path);if(C>=0)if(e.visitedViews.slice(C+1).forEach($=>{b($)||(e.delVisitedView($),e.delCachedView($))}),e.visitedViews.some($=>$.path===f.path)){if(C<e.visitedViews.findIndex($=>$.path===f.path)){const $=Math.max(C,0),O=e.visitedViews[$];O&&O.fullPath&&v.push(O.fullPath)}}else{const O=e.visitedViews.slice(0,C+1).slice(-1)[0];O&&O.fullPath?v.push(O.fullPath):v.push("/")}},S=(u,C)=>{const I=u.slice(-1)[0]?.fullPath;I!==void 0?v.push(I):C.name==="Dashboard"?v.push({path:"/redirect"+C.path,query:C.query}):v.push("/")},E=(u,C)=>{const I=r.proxy.$el.getBoundingClientRect().left,O=r.proxy.$el.offsetWidth-105,X=C.clientX-I+15;m.value=X>O?O:X,a.value=C.clientY,i.value=!0,y.value=u},T=()=>{i.value=!1};return Oe(i,u=>{u?document.body.addEventListener("click",T):document.body.removeEventListener("click",T)}),Ve(()=>{N(),s(async u=>{U(u)},!0)}),(u,C)=>{const L=x("el-icon");return p(),R("div",po,[_(fo,{class:"tags-view-wrapper","tag-refs":c.value},{default:w(()=>[(p(!0),R(Q,null,ae(o(e).visitedViews,I=>(p(),V(o(ft),{ref_for:!0,ref_key:"tagRefs",ref:c,key:I.path,class:J([{active:h(I)},"tags-view-item"]),to:{path:I.path,query:I.query},onMouseup:_e($=>!b(I)&&W(I),["middle"]),onContextmenu:_e($=>E(I,$),["prevent"])},{default:w(()=>[te(P(o(n)(I.meta?.title))+" ",1),b(I)?B("",!0):(p(),V(L,{key:0,size:12,onClick:_e($=>W(I),["prevent","stop"])},{default:w(()=>[_(o($t))]),_:1},8,["onClick"]))]),_:2},1032,["class","to","onMouseup","onContextmenu"]))),128))]),_:1},8,["tag-refs"]),ke(M("ul",{class:"contextmenu",style:Ge({left:m.value+"px",top:a.value+"px"})},[M("li",{onClick:C[0]||(C[0]=I=>z(y.value))},P(o(n)("refresh")),1),b(y.value)?B("",!0):(p(),R("li",{key:0,onClick:C[1]||(C[1]=I=>W(y.value))},P(o(n)("Close_current")),1)),M("li",{onClick:G},P(o(n)("close_others")),1),M("li",{onClick:C[2]||(C[2]=I=>l(y.value))},P(o(n)("close_left")),1),M("li",{onClick:C[3]||(C[3]=I=>g(y.value))},P(o(n)("close_right")),1),M("li",{onClick:C[4]||(C[4]=I=>A(y.value))},P(o(n)("close_all")),1)],4),[[xe,i.value]])])}}}),Ae=H(_o,[["__scopeId","data-v-687fa110"]]),mo=q({__name:"index",props:{buttonTop:{default:350}},setup(d){He(f=>({v4cd32909:r}));const r=d.buttonTop+"px",v=j(!1);return(f,e)=>{const t=x("el-icon"),s=x("el-drawer");return p(),R(Q,null,[M("div",{class:"handle-button",onClick:e[0]||(e[0]=c=>v.value=!0),id:"el_tour_visible_11"},[_(t,{size:24},{default:w(()=>[_(o(Vt))]),_:1})]),_(s,{modelValue:v.value,"onUpdate:modelValue":e[1]||(e[1]=c=>v.value=c),size:"300px","with-header":!1},{default:w(()=>[ve(f.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue"])],64)}}}),vo=H(mo,[["__scopeId","data-v-43dc1cbe"]]),ho=q({__name:"LeftMode",setup(d){const{isMobile:n}=ue(),r=ie(),v=ne(),{showTagsView:f,fixedHeader:e}=ce(v),t=D(()=>({hideSidebar:!r.sidebar.opened,openSidebar:r.sidebar.opened,withoutAnimation:r.sidebar.withoutAnimation,mobile:n.value})),s=()=>{r.closeSidebar(!1)};return(c,i)=>(p(),R("div",{class:J([t.value,"app-wrapper"])},[t.value.mobile&&t.value.openSidebar?(p(),R("div",{key:0,class:"drawer-bg",onClick:s})):B("",!0),_(o(Le),{class:"sidebar-container"}),M("div",{class:J([{hasTagsView:o(f)},"main-container"])},[M("div",{class:J([{"fixed-header":o(e)},"layout-header"])},[_(o(Re)),ke(_(o(Ae),null,null,512),[[xe,o(f)]])],2),_(o(Ie),{class:"app-main"})],2)],2))}}),go=H(ho,[["__scopeId","data-v-d57a6460"]]),bo={class:"app-wrapper"},yo={class:"fixed-header layout-header"},wo={class:"content"},ko=q({__name:"TopMode",setup(d){const n=ne(),{showTagsView:r,showLogo:v}=ce(n);return(f,e)=>(p(),R("div",bo,[M("div",yo,[M("div",wo,[o(v)?(p(),V(o(Me),{key:0,collapse:!1,class:"logo"})):B("",!0),_(o(Re),{class:"navigation-bar"})]),ke(_(o(Ae),null,null,512),[[xe,o(r)]])]),M("div",{class:J([{hasTagsView:o(r)},"main-container"])},[_(o(Ie),{class:"app-main"})],2)]))}}),xo=H(ko,[["__scopeId","data-v-e7b36e3c"]]),So={class:"fixed-header layout-header"},Co={class:"content"},To=q({__name:"LeftTopMode",setup(d){const n=ie(),r=ne(),{showTagsView:v,showLogo:f}=ce(r),e=D(()=>({hideSidebar:!n.sidebar.opened}));return(t,s)=>(p(),R("div",{class:J([e.value,"app-wrapper"])},[M("div",So,[o(f)?(p(),V(o(Me),{key:0,collapse:!1,class:"logo"})):B("",!0),M("div",Co,[_(o(Re)),ke(_(o(Ae),null,null,512),[[xe,o(v)]])])]),M("div",{class:J([{hasTagsView:o(v)},"main-container"])},[_(o(Le),{class:"sidebar-container"}),_(o(Ie),{class:"app-main"})],2)],2))}}),$o=H(To,[["__scopeId","data-v-b2cdc965"]]),$e="--kilyicms-tagsview-height",Vo=q({__name:"index",setup(d){Rt();const n=Ze(Qe.USER_INFO),{setWatermark:r,clearWatermark:v}=ht(),{isMobile:f}=ue(),{isLeft:e,isTop:t,isLeftTop:s}=de(),c=ne(),{showSettings:i,showTagsView:a,showWatermark:m,showGreyMode:y,showColorWeakness:k}=ce(c),h=D(()=>({showGreyMode:y.value,showColorWeakness:k.value})),b=me($e);return he(()=>{a.value?Ne($e,b):Ne($e,"0px")}),he(()=>{m.value?r(n.user_name??"kilyicms"):v()}),(F,N)=>(p(),R("div",{class:J(h.value)},[o(e)||o(f)?(p(),V(go,{key:0})):o(t)?(p(),V(xo,{key:1})):o(s)?(p(),V($o,{key:2})):B("",!0),o(i)?(p(),V(o(vo),{key:3},{default:w(()=>[_(o(ro))]),_:1})):B("",!0)],2))}}),Po=H(Vo,[["__scopeId","data-v-d5623dfb"]]);export{Po as default};
