import{aA as mt,Z as _t,r as N,d as Me,E as Ye,c as Le,A as Ze,f as I,m as D,p,q as C,T as V,u as i,ai as y,t as w,U as m,O as g,W as Qe,M as x,Q as me,aB as vt,R as P,aC as xe,aD as _e,a8 as te,F as j,a2 as he,H as be,aa as ht,S as K,I as H,aE as et,w as ye,aF as gt,aG as tt,b as nt,J as ot,s as bt,a9 as ve,aH as ie,n as yt,P as Se,V as Ce,aI as wt}from"./vue-0By7UTot.js";import{g as kt,S as st,D as se,s as Oe,a as xt,u as $e,b as Y,L as re,_ as z,c as at,d as X,r as St,e as Re,l as qe,f as Ct}from"./index-o-0RuYwl.js";import{u as $t}from"./useWatermark-D_KozAXR.js";import{f as Tt,e as Et,b as Vt,h as It,a as we,j as Mt,k as Lt,l as rt,u as Rt,r as At,n as Pt,o as Dt,p as Ft,s as Nt}from"./element-Cs03vSdE.js";import{_ as zt}from"./index.vue_vue_type_script_setup_true_lang-Buu7WQuc.js";function Bt(s){s?Oe(xt):Oe(st)}const ue=mt("app",()=>{const s=_t({opened:kt()!==st,withoutAnimation:!1}),e=N(se.Desktop);return Me(()=>s.opened,n=>Bt(n)),{device:e,sidebar:s,toggleSidebar:n=>{s.opened=!s.opened,s.withoutAnimation=n},closeSidebar:n=>{s.opened=!1,s.withoutAnimation=n},toggleDevice:n=>{e.value=n}}}),Wt=992,Ut=()=>{const s=ue(),{listenerRouteChange:e}=$e(),t=()=>document.body.getBoundingClientRect().width-1<Wt,o=()=>{if(!document.hidden){const r=t();s.toggleDevice(r?se.Mobile:se.Desktop),r&&s.closeSidebar(!0)}};e(()=>{s.device===se.Mobile&&s.sidebar.opened&&s.closeSidebar(!1)}),Ye(()=>{window.addEventListener("resize",o)}),Le(()=>{t()&&(s.toggleDevice(se.Mobile),s.closeSidebar(!0))}),Ze(()=>{window.removeEventListener("resize",o)})},lt=ue(),Ot=I(()=>lt.device===se.Mobile),qt=I(()=>lt.device===se.Desktop);function de(){return{isMobile:Ot,isDesktop:qt}}const Te=Y(),Ht=I(()=>Te.layoutMode===re.Left),jt=I(()=>Te.layoutMode===re.Top),Xt=I(()=>Te.layoutMode===re.LeftTop),Kt=s=>{Te.layoutMode=s};function fe(){return{isLeft:Ht,isTop:jt,isLeftTop:Xt,setLayoutMode:Kt}}const Gt={class:"layout-footer"},Jt=D({__name:"index",setup(s){const e="文心一言";return(t,o)=>(p(),C("footer",Gt," MIT © 2024-PRESENT "+V(i(e)),1))}}),Yt=z(Jt,[["__scopeId","data-v-fdabcff8"]]),Zt={class:"app-main"},Qt={class:"app-scrollbar"},en=D({__name:"AppMain",setup(s){const e=at(),t=Y();return(o,r)=>{const n=y("router-view"),a=y("el-backtop");return p(),C("section",Zt,[w("div",Qt,[m(n,null,{default:g(({Component:l,route:c})=>[m(Qe,{name:"el-fade-in",mode:"out-in"},{default:g(()=>[(p(),x(vt,{include:i(e).cachedViews},[(p(),x(me(l),{key:c.path,class:"app-container-grow"}))],1032,["include"]))]),_:2},1024)]),_:1}),i(t).showFooter?(p(),x(Yt,{key:0})):P("",!0)]),m(a),m(a,{target:".app-scrollbar"})])}}}),Ae=z(en,[["__scopeId","data-v-6bb4d952"]]),tn=D({__name:"index",props:{isActive:{type:Boolean,default:!1}},emits:["toggleClick"],setup(s,{emit:e}){const t=s,o=e,r=()=>{o("toggleClick")};return(n,a)=>{const l=y("el-icon");return p(),C("div",{onClick:r},[m(l,{size:26,class:"icon"},{default:g(()=>[t.isActive?(p(),x(i(Tt),{key:0})):(p(),x(i(Et),{key:1}))]),_:1})])}}}),nn=z(tn,[["__scopeId","data-v-5d076290"]]);var ae={};Object.defineProperty(ae,"__esModule",{value:!0});ae.TokenData=void 0;ae.parse=De;var on=ae.compile=cn;ae.match=fn;ae.pathToRegexp=dt;const ct="/",Pe=s=>s,sn=new RegExp("^\\p{XID_Continue}$","u"),pe="https://git.new/pathToRegexpError",an={"!":"!","@":"@",";":";",",":",","*":"*","+":"+","?":"?","{":"{","}":"}"};function rn(s){const e=[...s],t=[];let o=0;for(;o<e.length;){const r=e[o],n=an[r];if(n){t.push({type:n,index:o++,value:r});continue}if(r==="\\"){t.push({type:"ESCAPED",index:o++,value:e[o++]});continue}if(r===":"){let a="";for(;sn.test(e[++o]);)a+=e[o];if(!a)throw new TypeError(`Missing parameter name at ${o}`);t.push({type:"NAME",index:o,value:a});continue}if(r==="("){const a=o++;let l=1,c="";if(e[o]==="?")throw new TypeError(`Pattern cannot start with "?" at ${o}`);for(;o<e.length;){if(e[o]==="\\"){c+=e[o++]+e[o++];continue}if(e[o]===")"){if(l--,l===0){o++;break}}else if(e[o]==="("&&(l++,e[o+1]!=="?"))throw new TypeError(`Capturing groups are not allowed at ${o}`);c+=e[o++]}if(l)throw new TypeError(`Unbalanced pattern at ${a}`);if(!c)throw new TypeError(`Missing pattern at ${a}`);t.push({type:"PATTERN",index:o,value:c});continue}t.push({type:"CHAR",index:o,value:e[o++]})}return t.push({type:"END",index:o,value:""}),new ln(t)}class ln{constructor(e){this.tokens=e,this.index=0}peek(){return this.tokens[this.index]}tryConsume(e){const t=this.peek();if(t.type===e)return this.index++,t.value}consume(e){const t=this.tryConsume(e);if(t!==void 0)return t;const{type:o,index:r}=this.peek();throw new TypeError(`Unexpected ${o} at ${r}, expected ${e}: ${pe}`)}text(){let e="",t;for(;t=this.tryConsume("CHAR")||this.tryConsume("ESCAPED");)e+=t;return e}modifier(){return this.tryConsume("?")||this.tryConsume("*")||this.tryConsume("+")}}class Ee{constructor(e,t){this.tokens=e,this.delimiter=t}}ae.TokenData=Ee;function De(s,e={}){const{encodePath:t=Pe,delimiter:o=t(ct)}=e,r=[],n=rn(s);let a=0;do{const l=n.text();l&&r.push(t(l));const c=n.tryConsume("NAME"),f=n.tryConsume("PATTERN");if(c||f){r.push({name:c||String(a++),pattern:f});const _=n.peek();if(_.type==="*")throw new TypeError(`Unexpected * at ${_.index}, you probably want \`/*\` or \`{/:foo}*\`: ${pe}`);continue}if(n.tryConsume("*")){r.push({name:String(a++),pattern:`(?:(?!${ce(o)}).)*`,modifier:"*",separator:o});continue}if(n.tryConsume("{")){const _=n.text(),h=n.tryConsume("NAME"),v=n.tryConsume("PATTERN"),b=n.text(),$=n.tryConsume(";")&&n.text();n.consume("}");const E=n.modifier();r.push({name:h||(v?String(a++):""),prefix:t(_),suffix:t(b),pattern:v,modifier:E,separator:$});continue}n.consume("END");break}while(!0);return new Ee(r,o)}function cn(s,e={}){const t=s instanceof Ee?s:De(s,e);return dn(t,e)}function un(s,e){if(typeof s=="string")return()=>s;const t=e||Pe,o=s.modifier==="+"||s.modifier==="*",r=s.modifier==="?"||s.modifier==="*",{prefix:n="",suffix:a="",separator:l=a+n}=s;if(e&&o){const f=(d,_)=>{if(typeof d!="string")throw new TypeError(`Expected "${s.name}/${_}" to be a string`);return t(d)},u=d=>{if(!Array.isArray(d))throw new TypeError(`Expected "${s.name}" to be an array`);return d.length===0?"":n+d.map(f).join(l)+a};return r?d=>{const _=d[s.name];return _==null?"":_.length?u(_):""}:d=>{const _=d[s.name];return u(_)}}const c=f=>{if(typeof f!="string")throw new TypeError(`Expected "${s.name}" to be a string`);return n+t(f)+a};return r?f=>{const u=f[s.name];return u==null?"":c(u)}:f=>{const u=f[s.name];return c(u)}}function dn(s,e){const{encode:t=encodeURIComponent,loose:o=!0,validate:r=!0,strict:n=!1}=e,a=it(e),l=Fe(o,s.delimiter),c=ut(s,l,[],a,n),f=s.tokens.map((u,d)=>{const _=un(u,t);if(!r||typeof u=="string")return _;const h=new RegExp(`^${c[d]}$`,a);return v=>{const b=_(v);if(!h.test(b))throw new TypeError(`Invalid value for "${u.name}": ${JSON.stringify(b)}`);return b}});return function(d={}){let _="";for(const h of f)_+=h(d);return _}}function fn(s,e={}){const{decode:t=decodeURIComponent,loose:o=!0,delimiter:r=ct}=e,n=dt(s,e),a=Fe(o,r),l=n.keys.map(c=>{if(t&&(c.modifier==="+"||c.modifier==="*")){const{prefix:f="",suffix:u="",separator:d=u+f}=c,_=new RegExp(a(d),"g");return h=>h.split(_).map(t)}return t||Pe});return function(f){const u=n.exec(f);if(!u)return!1;const{0:d,index:_}=u,h=Object.create(null);for(let v=1;v<u.length;v++){if(u[v]===void 0)continue;const b=n.keys[v-1],$=l[v-1];h[b.name]=$(u[v])}return{path:d,index:_,params:h}}}function ce(s){return s.replace(/[.+*?^${}()[\]|/\\]/g,"\\$&")}function pn(s,e){const t=ce(s);return e?`(?:${t})+(?!${t})`:t}function Fe(s,e){if(!s)return ce;const t=new RegExp(`(?:(?!${ce(e)}).)+|(.)`,"g");return o=>o.replace(t,pn)}function it(s){return s.sensitive?"":"i"}function He(s,e,t,o){const r=s instanceof Ee?s:De(s,o),{trailing:n=!0,loose:a=!0,start:l=!0,end:c=!0,strict:f=!1}=o,u=Fe(a,r.delimiter),d=ut(r,u,e,t,f);let _=l?"^":"";return _+=d.join(""),n&&(_+=`(?:${u(r.delimiter)}$)?`),_+=c?"$":`(?=${ce(r.delimiter)}|$)`,_}function ut(s,e,t,o,r){const n=`(?:(?!${ce(s.delimiter)}).)+?`;let a="",l=!0;return s.tokens.map(c=>{if(typeof c=="string")return a=c,e(c);const{prefix:f="",suffix:u="",separator:d=u+f,modifier:_=""}=c,h=e(f),v=e(u);if(c.name){const b=c.pattern?`(?:${c.pattern})`:n,$=mn(b,c.name,o);if(l||(l=Ve($,f||a)),!l)throw new TypeError(`Ambiguous pattern for "${c.name}": ${pe}`);if(l=!r||Ve($,u),a="",t.push(c),_==="+"||_==="*"){const E=_==="*"?"?":"",M=e(d);if(!M)throw new TypeError(`Missing separator for "${c.name}": ${pe}`);if(l||(l=!r||Ve($,d)),!l)throw new TypeError(`Ambiguous pattern for "${c.name}" separator: ${pe}`);return l=!r,`(?:${h}(${b}(?:${M}${b})*)${v})${E}`}return`(?:${h}(${b})${v})${_}`}return`(?:${h}${v})${_}`})}function mn(s,e,t){try{return new RegExp(`^${s}$`,t)}catch(o){throw new TypeError(`Invalid pattern for "${e}": ${o.message}`)}}function Ve(s,e){return e?!s.test(e):!1}function dt(s,e={}){const t=[],o=it(e);if(Array.isArray(s)){const n=s.map(a=>He(a,t,o,e));return Object.assign(new RegExp(n.join("|")),{keys:t})}const r=He(s,t,o,e);return Object.assign(new RegExp(r),{keys:t})}const _n={class:"flex items-center"},vn={key:2,class:"no-redirect"},hn=["onClick"],gn=D({__name:"index",setup(s){const{t:e}=X(),t=xe(),o=_e(),{listenerRouteChange:r}=$e(),n=N([]),a=()=>{n.value=t.matched.filter(f=>{var u,d;return((u=f.meta)==null?void 0:u.title)&&((d=f.meta)==null?void 0:d.breadcrumb)!==!1})},l=f=>on(f)(t.params),c=f=>{const{redirect:u,path:d}=f;if(u){o.push(u);return}o.push(l(d))};return r(f=>{f.path.startsWith("/redirect/")||a()},!0),(f,u)=>{const d=y("SvgIcon"),_=y("el-breadcrumb-item"),h=y("el-breadcrumb");return p(),x(h,null,{default:g(()=>[(p(!0),C(j,null,te(n.value,(v,b)=>(p(),x(_,{key:v.path},{default:g(()=>{var $,E;return[w("div",_n,[($=v.meta)!=null&&$.svgIcon?(p(),x(d,{key:0,name:v.meta.svgIcon,width:"16",height:"16"},null,8,["name"])):(E=v.meta)!=null&&E.elIcon?(p(),x(me(v.meta.elIcon),{key:1,class:"el-icon"})):P("",!0),v.redirect==="noRedirect"||b===n.value.length-1?(p(),C("span",vn,V(i(e)(v.meta.title)),1)):(p(),C("a",{key:3,onClick:he(M=>c(v),["prevent"])},V(i(e)(v.meta.title)),9,hn))])]}),_:2},1024))),128))]),_:1})}}}),bn=z(gn,[["__scopeId","data-v-d61ae263"]]),ke=s=>/^(https?:|mailto:|tel:)/.test(s),yn=["href"],wn=D({__name:"SidebarItemLink",props:{to:{}},setup(s){const e=s;return(t,o)=>{const r=y("router-link");return i(ke)(e.to)?(p(),C("a",{key:0,href:e.to,target:"_blank",rel:"noopener"},[be(t.$slots,"default")],8,yn)):(p(),x(r,{key:1,to:e.to},{default:g(()=>[be(t.$slots,"default")]),_:3},8,["to"]))}}});function J(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function je(s,e){for(var t="",o=0,r=-1,n=0,a,l=0;l<=s.length;++l){if(l<s.length)a=s.charCodeAt(l);else{if(a===47)break;a=47}if(a===47){if(!(r===l-1||n===1))if(r!==l-1&&n===2){if(t.length<2||o!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var c=t.lastIndexOf("/");if(c!==t.length-1){c===-1?(t="",o=0):(t=t.slice(0,c),o=t.length-1-t.lastIndexOf("/")),r=l,n=0;continue}}else if(t.length===2||t.length===1){t="",o=0,r=l,n=0;continue}}e&&(t.length>0?t+="/..":t="..",o=2)}else t.length>0?t+="/"+s.slice(r+1,l):t=s.slice(r+1,l),o=l-r-1;r=l,n=0}else a===46&&n!==-1?++n:n=-1}return t}function kn(s,e){var t=e.dir||e.root,o=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+o:t+s+o:o}var le={resolve:function(){for(var e="",t=!1,o,r=arguments.length-1;r>=-1&&!t;r--){var n;r>=0?n=arguments[r]:(o===void 0&&(o=process.cwd()),n=o),J(n),n.length!==0&&(e=n+"/"+e,t=n.charCodeAt(0)===47)}return e=je(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(J(e),e.length===0)return".";var t=e.charCodeAt(0)===47,o=e.charCodeAt(e.length-1)===47;return e=je(e,!t),e.length===0&&!t&&(e="."),e.length>0&&o&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return J(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var o=arguments[t];J(o),o.length>0&&(e===void 0?e=o:e+="/"+o)}return e===void 0?".":le.normalize(e)},relative:function(e,t){if(J(e),J(t),e===t||(e=le.resolve(e),t=le.resolve(t),e===t))return"";for(var o=1;o<e.length&&e.charCodeAt(o)===47;++o);for(var r=e.length,n=r-o,a=1;a<t.length&&t.charCodeAt(a)===47;++a);for(var l=t.length,c=l-a,f=n<c?n:c,u=-1,d=0;d<=f;++d){if(d===f){if(c>f){if(t.charCodeAt(a+d)===47)return t.slice(a+d+1);if(d===0)return t.slice(a+d)}else n>f&&(e.charCodeAt(o+d)===47?u=d:d===0&&(u=0));break}var _=e.charCodeAt(o+d),h=t.charCodeAt(a+d);if(_!==h)break;_===47&&(u=d)}var v="";for(d=o+u+1;d<=r;++d)(d===r||e.charCodeAt(d)===47)&&(v.length===0?v+="..":v+="/..");return v.length>0?v+t.slice(a+u):(a+=u,t.charCodeAt(a)===47&&++a,t.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(J(e),e.length===0)return".";for(var t=e.charCodeAt(0),o=t===47,r=-1,n=!0,a=e.length-1;a>=1;--a)if(t=e.charCodeAt(a),t===47){if(!n){r=a;break}}else n=!1;return r===-1?o?"/":".":o&&r===1?"//":e.slice(0,r)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');J(e);var o=0,r=-1,n=!0,a;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var l=t.length-1,c=-1;for(a=e.length-1;a>=0;--a){var f=e.charCodeAt(a);if(f===47){if(!n){o=a+1;break}}else c===-1&&(n=!1,c=a+1),l>=0&&(f===t.charCodeAt(l)?--l===-1&&(r=a):(l=-1,r=c))}return o===r?r=c:r===-1&&(r=e.length),e.slice(o,r)}else{for(a=e.length-1;a>=0;--a)if(e.charCodeAt(a)===47){if(!n){o=a+1;break}}else r===-1&&(n=!1,r=a+1);return r===-1?"":e.slice(o,r)}},extname:function(e){J(e);for(var t=-1,o=0,r=-1,n=!0,a=0,l=e.length-1;l>=0;--l){var c=e.charCodeAt(l);if(c===47){if(!n){o=l+1;break}continue}r===-1&&(n=!1,r=l+1),c===46?t===-1?t=l:a!==1&&(a=1):t!==-1&&(a=-1)}return t===-1||r===-1||a===0||a===1&&t===r-1&&t===o+1?"":e.slice(t,r)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return kn("/",e)},parse:function(e){J(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var o=e.charCodeAt(0),r=o===47,n;r?(t.root="/",n=1):n=0;for(var a=-1,l=0,c=-1,f=!0,u=e.length-1,d=0;u>=n;--u){if(o=e.charCodeAt(u),o===47){if(!f){l=u+1;break}continue}c===-1&&(f=!1,c=u+1),o===46?a===-1?a=u:d!==1&&(d=1):a!==-1&&(d=-1)}return a===-1||c===-1||d===0||d===1&&a===c-1&&a===l+1?c!==-1&&(l===0&&r?t.base=t.name=e.slice(1,c):t.base=t.name=e.slice(l,c)):(l===0&&r?(t.name=e.slice(1,a),t.base=e.slice(1,c)):(t.name=e.slice(l,a),t.base=e.slice(l,c)),t.ext=e.slice(a,c)),l>0?t.dir=e.slice(0,l-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};le.posix=le;var xn=le;const ft=Vt(xn),Sn={key:2},Cn=D({__name:"SidebarItem",props:{item:{},basePath:{default:""}},setup(s){const{t:e}=X(),t=s,o=I(()=>{var c;return(c=t.item.meta)==null?void 0:c.alwaysShow}),r=I(()=>{var c;return((c=t.item.children)==null?void 0:c.filter(f=>{var u;return!((u=f.meta)!=null&&u.hidden)}))??[]}),n=I(()=>r.value.length),a=I(()=>{const c=n.value;switch(!0){case c>1:return null;case c===1:return r.value[0];default:return{...t.item,path:""}}}),l=c=>{switch(!0){case ke(c):return c;case ke(t.basePath):return t.basePath;default:return ft.resolve(t.basePath,c)}};return(c,f)=>{const u=y("SvgIcon"),d=y("el-menu-item"),_=y("SidebarItem",!0),h=y("el-sub-menu");return!o.value&&a.value&&!a.value.children?(p(),C(j,{key:0},[a.value.meta?(p(),x(wn,{key:0,to:l(a.value.path)},{default:g(()=>[m(d,{index:l(a.value.path)},ht({default:g(()=>[a.value.meta.svgIcon?(p(),x(u,{key:0,name:a.value.meta.svgIcon},null,8,["name"])):a.value.meta.elIcon?(p(),x(me(a.value.meta.elIcon),{key:1,class:"el-icon"})):P("",!0)]),_:2},[a.value.meta.title?{name:"title",fn:g(()=>[K(V(i(e)(a.value.meta.title)),1)]),key:"0"}:void 0]),1032,["index"])]),_:1},8,["to"])):P("",!0)],64)):(p(),x(h,{key:1,index:l(t.item.path),teleported:""},{title:g(()=>{var v,b,$;return[(v=t.item.meta)!=null&&v.svgIcon?(p(),x(u,{key:0,name:t.item.meta.svgIcon},null,8,["name"])):(b=t.item.meta)!=null&&b.elIcon?(p(),x(me(t.item.meta.elIcon),{key:1,class:"el-icon"})):P("",!0),($=t.item.meta)!=null&&$.title?(p(),C("span",Sn,V(i(e)(t.item.meta.title)),1)):P("",!0)]}),default:g(()=>[t.item.children?(p(!0),C(j,{key:0},te(r.value,v=>(p(),x(_,{key:v.path,item:v,"base-path":l(v.path)},null,8,["item","base-path"]))),128)):P("",!0)]),_:1},8,["index"]))}}}),$n=z(Cn,[["__scopeId","data-v-bf8d4b20"]]),Tn="/kilyicms/static/logo-BE7kWN0A.png",En="/kilyicms/static/logo-text-1-B4YptXg1.png",Vn="/kilyicms/static/logo-text-2-v9kDMek9.png",In=["src"],Mn=["src"],Ln=D({__name:"index",props:{collapse:{type:Boolean,default:!0}},setup(s){const e=s,{isLeft:t,isTop:o}=fe();return(r,n)=>{const a=y("router-link");return p(),C("div",{class:H(["layout-logo-container",{collapse:e.collapse,"layout-mode-top":i(o)}])},[m(Qe,{name:"layout-logo-fade"},{default:g(()=>[e.collapse?(p(),x(a,{key:"collapse",to:"/"},{default:g(()=>[w("img",{src:i(Tn),class:"layout-logo"},null,8,In)]),_:1})):(p(),x(a,{key:"expand",to:"/"},{default:g(()=>[w("img",{src:i(t)?i(En):i(Vn),class:"layout-logo-text"},null,8,Mn)]),_:1}))]),_:1})],2)}}}),Ne=z(Ln,[["__scopeId","data-v-7efc77ed"]]),ge=s=>{let e="";try{e=getComputedStyle(document.documentElement).getPropertyValue(s)}catch(t){console.error(t)}return e},Xe=(s,e)=>{try{document.documentElement.style.setProperty(s,e)}catch(t){console.error(t)}},Rn=()=>{St(),location.reload()},An=D({__name:"index",setup(s){et(R=>({"2922be01":W.value,"3525dfaa":Z.value,"64557f2a":M.value,"1e301b53":F.value,b4d09934:E.value}));const e=ge("--kilyicms-sidebar-menu-bg-color"),t=ge("--kilyicms-sidebar-menu-text-color"),o=ge("--kilyicms-sidebar-menu-active-text-color"),{isMobile:r}=de(),{isLeft:n,isTop:a}=fe(),l=xe(),c=ue(),f=Re(),u=Y(),d=I(()=>{const{meta:{activeMenu:R},path:S}=l;return R||S}),_=I(()=>f.routes.filter(R=>{var S;return!((S=R.meta)!=null&&S.hidden)})),h=I(()=>!c.sidebar.opened),v=I(()=>n.value&&u.showLogo),b=I(()=>n.value?e:void 0),$=I(()=>n.value?t:void 0),E=I(()=>n.value?o:void 0),M=I(()=>a.value?"var(--kilyicms-navigationbar-height)":"var(--kilyicms-sidebar-menu-item-height)"),F=I(()=>a.value?"transparent":"var(--kilyicms-sidebar-menu-hover-bg-color)"),W=I(()=>a.value?"0px":"7px"),Z=I(()=>a.value?"none":"block");return(R,S)=>{const A=y("el-menu"),O=y("el-scrollbar");return p(),C("div",{class:H({"has-logo":v.value})},[v.value?(p(),x(Ne,{key:0,collapse:h.value},null,8,["collapse"])):P("",!0),m(O,{"wrap-class":"scrollbar-wrapper"},{default:g(()=>[m(A,{"default-active":d.value,collapse:h.value&&!i(a),"background-color":b.value,"text-color":$.value,"active-text-color":E.value,"unique-opened":!0,"collapse-transition":!1,mode:i(a)&&!i(r)?"horizontal":"vertical"},{default:g(()=>[(p(!0),C(j,null,te(_.value,G=>(p(),x($n,{key:G.path,item:G,"base-path":G.path},null,8,["item","base-path"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color","mode"])]),_:1})],2)}}}),ze=z(An,[["__scopeId","data-v-96065fbb"]]),Pn={class:"card-header"},Dn={class:"card-title"},Fn={class:"card-time"},Nn={key:0,class:"card-avatar"},zn=["src"],Bn={class:"card-body"},Wn=D({__name:"NotifyList",props:{list:{}},setup(s){const e=s;return(t,o)=>{const r=y("el-empty"),n=y("el-tag"),a=y("el-card");return e.list.length===0?(p(),x(r,{key:0})):(p(!0),C(j,{key:1},te(e.list,(l,c)=>(p(),x(a,{key:c,shadow:"never",class:"card-container"},{header:g(()=>[w("div",Pn,[w("div",null,[w("span",null,[w("span",Dn,V(l.title),1),l.extra?(p(),x(n,{key:0,type:l.status,effect:"plain",size:"small"},{default:g(()=>[K(V(l.extra),1)]),_:2},1032,["type"])):P("",!0)]),w("div",Fn,V(l.datetime),1)]),l.avatar?(p(),C("div",Nn,[w("img",{src:l.avatar,width:"34"},null,8,zn)])):P("",!0)])]),default:g(()=>[w("div",Bn,V(l.description??"No Data"),1)]),_:2},1024))),128))}}}),Un=z(Wn,[["__scopeId","data-v-abc57663"]]),On=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"Kilyicms 上线啦",datetime:"一年前",description:"一个免费开源的中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus、Pinia 和 Vite 等主流技术"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"Kilyicms 上线啦",datetime:"两年前",description:"一个中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus 和 Pinia"}],qn=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自楚门的世界",description:"如果再也不能见到你，祝你早安、午安和晚安",datetime:"1998-06-05"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自大话西游",description:"如果非要在这份爱上加上一个期限，我希望是一万年",datetime:"1995-02-04"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自龙猫",description:"心存善意，定能途遇天使",datetime:"1988-04-16"}],Hn=[{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"未开始",status:"info"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"进行中",status:"primary"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"已超时",status:"danger"}],jn={class:"notify"},Xn={class:"notify-history"},Ke=99,Kn=350,Gn=D({__name:"index",setup(s){const{t:e}=X(),t=e("notifications"),o=e("messages"),r=e("pending"),n=I(()=>l.value.reduce((f,u)=>f+u.list.length,0)),a=N(t),l=N([{name:t,type:"primary",list:On},{name:o,type:"danger",list:qn},{name:r,type:"warning",list:Hn}]),c=()=>{we.success(e("message_jump_to_history_page",{pageName:a.value}))};return(f,u)=>{const d=y("el-icon"),_=y("el-tooltip"),h=y("el-badge"),v=y("el-scrollbar"),b=y("el-tab-pane"),$=y("el-tabs"),E=y("el-button"),M=y("el-popover");return p(),C("div",jn,[m(M,{placement:"bottom",width:Kn,trigger:"click"},{reference:g(()=>[m(h,{value:n.value,max:Ke,hidden:n.value===0},{default:g(()=>[m(_,{effect:"dark",content:i(e)("message_notification"),placement:"bottom"},{default:g(()=>[m(d,{size:20},{default:g(()=>[m(i(It))]),_:1})]),_:1},8,["content"])]),_:1},8,["value","hidden"])]),default:g(()=>[m($,{modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=F=>a.value=F),class:"demo-tabs",stretch:""},{default:g(()=>[(p(!0),C(j,null,te(l.value,(F,W)=>(p(),x(b,{name:F.name,key:W},{label:g(()=>[K(V(F.name)+" ",1),m(h,{value:F.list.length,max:Ke,type:F.type},null,8,["value","type"])]),default:g(()=>[m(v,{height:"400px"},{default:g(()=>[m(Un,{list:F.list},null,8,["list"])]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]),w("div",Xn,[m(E,{link:"",onClick:c},{default:g(()=>[K(V(i(e)("button_view_history",{pageName:a.value})),1)]),_:1})])]),_:1})])}}}),Jn=z(Gn,[["__scopeId","data-v-a6ef4df0"]]),Yn={class:"language drop_down"},Zn={class:"reference_btn"},Qn={class:"category_btn_cate"},eo=D({__name:"index",setup(s){const{t:e,locale:t}=X(),o=_e(),r=N(!1),n=N([]),a=I(()=>localStorage.getItem("localLang")||"en");Me(n,(_,h)=>{_.length>0?n.value=_:n.value=h},{deep:!0});const l=I(()=>{var _;return((_=qe.find(h=>h.category===a.value))==null?void 0:_.lang)||"English"}),c=()=>{r.value=!1},f=()=>{n.value=[a.value]},u=()=>{n.value.length>1&&n.value.splice(0,1)},d=()=>{const _=n.value[0];t.value=_,localStorage.setItem("localLang",_),o.go(0)};return(_,h)=>{const v=y("SvgIcon"),b=y("el-checkbox"),$=y("el-checkbox-group"),E=y("el-popover");return p(),C("div",Yn,[m(E,{width:"260",transition:"",trigger:"click",onShow:f,"popper-class":"ifFlagPopover",placement:"bottom",visible:r.value,"onUpdate:visible":h[1]||(h[1]=M=>r.value=M)},{reference:g(()=>[w("div",Zn,[m(v,{name:"select_lang"}),K(" "+V(l.value),1)])]),default:g(()=>[w("div",Qn,[m($,{modelValue:n.value,"onUpdate:modelValue":h[0]||(h[0]=M=>n.value=M),onChange:u,class:"gory_btn_bts"},{default:g(()=>[(p(!0),C(j,null,te(i(qe),M=>(p(),x(b,{size:"small",border:"",class:"language_btn_in",key:M.category,value:M.category},{default:g(()=>[K(V(M.lang),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),w("div",{class:"confirm_true",onClick:d},[w("span",null,V(i(e)("confirm_ok_text")),1)]),w("div",{class:"cance_true",onClick:c},[w("span",null,V(i(e)("confirm_cancel_text")),1)])])]),_:1},8,["visible"])])}}}),to=z(eo,[["__scopeId","data-v-61e4e878"]]),Ge=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],ee=(()=>{if(typeof document>"u")return!1;const s=Ge[0],e={};for(const t of Ge)if((t==null?void 0:t[1])in document){for(const[r,n]of t.entries())e[s[r]]=n;return e}return!1})(),Je={change:ee.fullscreenchange,error:ee.fullscreenerror};let q={request(s=document.documentElement,e){return new Promise((t,o)=>{const r=()=>{q.off("change",r),t()};q.on("change",r);const n=s[ee.requestFullscreen](e);n instanceof Promise&&n.then(r).catch(o)})},exit(){return new Promise((s,e)=>{if(!q.isFullscreen){s();return}const t=()=>{q.off("change",t),s()};q.on("change",t);const o=document[ee.exitFullscreen]();o instanceof Promise&&o.then(t).catch(e)})},toggle(s,e){return q.isFullscreen?q.exit():q.request(s,e)},onchange(s){q.on("change",s)},onerror(s){q.on("error",s)},on(s,e){const t=Je[s];t&&document.addEventListener(t,e,!1)},off(s,e){const t=Je[s];t&&document.removeEventListener(t,e,!1)},raw:ee};Object.defineProperties(q,{isFullscreen:{get:()=>!!document[ee.fullscreenElement]},element:{enumerable:!0,get:()=>document[ee.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[ee.fullscreenEnabled]}});ee||(q={isEnabled:!1});const oe=q,no=D({__name:"index",props:{element:{default:"html"},openTips:{},exitTips:{},content:{type:Boolean,default:!1}},setup(s){const{t:e}=X(),t=s,o=I(()=>t.openTips||e("Enter_full_screen")),r=I(()=>t.exitTips||e("Exit_full_screen")),n=N(!1),a=I(()=>n.value?r.value:o.value),l=I(()=>n.value?"fullscreen-exit":"fullscreen"),c=()=>{const b=document.querySelector(t.element)||void 0;oe.isEnabled?oe.toggle(b):we.warning(e("browser_is_not_working"))},f=()=>{n.value=oe.isFullscreen,n.value||(document.body.className="")};ye(b=>{oe.isEnabled&&oe.on("change",f),b(()=>{oe.isEnabled&&oe.off("change",f)})});const u=N(!1),d=I(()=>u.value?e("Content_area_recovery"):e("Content_area_enlargement")),_=I(()=>u.value?"fullscreen-exit":"fullscreen"),h=()=>{u.value=!u.value,document.body.className=u.value?"content-large":""},v=()=>{u.value&&h(),document.body.className="content-full",c()};return(b,$)=>{const E=y("SvgIcon"),M=y("el-tooltip"),F=y("el-dropdown-item"),W=y("el-dropdown-menu"),Z=y("el-dropdown");return p(),C("div",null,[b.content?(p(),x(Z,{key:1,disabled:n.value},{dropdown:g(()=>[m(W,null,{default:g(()=>[m(F,{onClick:h},{default:g(()=>[K(V(d.value),1)]),_:1}),m(F,{onClick:v},{default:g(()=>[K(V(i(e)("Content_area_full_screen")),1)]),_:1})]),_:1})]),default:g(()=>[m(E,{name:_.value,"aria-hidden":!1},null,8,["name"])]),_:1},8,["disabled"])):(p(),x(M,{key:0,effect:"dark",content:a.value,placement:"bottom"},{default:g(()=>[m(E,{name:l.value,onClick:c,"aria-hidden":!1},null,8,["name"])]),_:1},8,["content"]))])}}}),pt=z(no,[["__scopeId","data-v-bfdd35e1"]]),oo=["onMouseenter"],so={class:"result-item-title"},ao=D({__name:"SearchResult",props:gt({list:{},isPressUpOrDown:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(s,{expose:e}){const{t}=X(),o=tt(s,"modelValue"),r=s,n=nt(),a=N(0),l=d=>{const _=d.name===o.value;return{background:_?"var(--el-color-primary)":"",color:_?"#ffffff":""}},c=d=>{r.isPressUpOrDown||(o.value=d.name)},f=()=>{a.value=Number((window.innerHeight*.4).toFixed(1))},u=d=>{var b;const _=(b=n==null?void 0:n.proxy)==null?void 0:b.$refs[`resultItemRef${d}`];if(!_)return 0;const v=_[0].offsetTop+128;return v>a.value?v-a.value:0};return Ye(()=>{window.addEventListener("resize",f)}),Le(()=>{f()}),Ze(()=>{window.removeEventListener("resize",f)}),e({getScrollTop:u}),(d,_)=>{const h=y("SvgIcon");return p(),C("div",null,[(p(!0),C(j,null,te(d.list,(v,b)=>{var $,E,M;return p(),C("div",{key:b,ref_for:!0,ref:`resultItemRef${b}`,class:"result-item",style:ot(l(v)),onMouseenter:F=>c(v)},[($=v.meta)!=null&&$.svgIcon?(p(),x(h,{key:0,name:v.meta.svgIcon},null,8,["name"])):(E=v.meta)!=null&&E.elIcon?(p(),x(me(v.meta.elIcon),{key:1,class:"el-icon"})):P("",!0),w("span",so,V(i(t)((M=v.meta)==null?void 0:M.title)),1),o.value&&o.value===v.name?(p(),x(h,{key:2,name:"keyboard-enter"})):P("",!0)],44,oo)}),128))])}}}),ro=z(ao,[["__scopeId","data-v-40766046"]]),lo={class:"search-footer"},co={class:"search-footer-item"},io={class:"search-footer-item"},uo={class:"search-footer-item"},fo={class:"search-footer-total"},po=D({__name:"SearchFooter",props:{total:{}},setup(s){const{t:e}=X(),t=s,{isMobile:o}=de();return(r,n)=>{const a=y("SvgIcon");return p(),C("div",lo,[i(o)?P("",!0):(p(),C(j,{key:0},[w("span",co,[m(a,{name:"keyboard-enter"}),w("span",null,V(i(e)("confirm_ok_text")),1)]),w("span",io,[m(a,{name:"keyboard-up"}),m(a,{name:"keyboard-down"}),w("span",null,V(i(e)("switch")),1)]),w("span",uo,[m(a,{name:"keyboard-esc"}),w("span",null,V(i(e)("close")),1)])],64)),w("span",fo,V(i(e)("total_items",{count:t.total})),1)])}}}),mo=z(po,[["__scopeId","data-v-99af72d7"]]),_o=D({__name:"SearchModal",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const{t:e}=X(),t=tt(s,"modelValue"),o=_e(),{isMobile:r}=de(),n=N(null),a=N(null),l=N(null),c=N(""),f=bt([]),u=N(void 0),d=N(!1),_=I(()=>r.value?"80vw":"40vw"),h=I(()=>Mt(Re().routes)),v=Lt(()=>{var A;const R=b(h.value);f.value=R.filter(O=>{var ne;const G=(ne=O.meta)!=null&&ne.title?e(O.meta.title):"";return c.value?G.toLocaleLowerCase().includes(c.value.toLocaleLowerCase().trim()):!1});const S=(A=f.value)==null?void 0:A.length;u.value=S>0?f.value[0].name:void 0},500),b=(R,S=[])=>(R.forEach(A=>{S.push(A),A.children&&b(A.children,S)}),S),$=()=>{t.value=!1,setTimeout(()=>{c.value="",f.value=[]},200)},E=R=>{var A;if(!l.value)return;const S=l.value.getScrollTop(R);(A=a.value)==null||A.setScrollTop(S)},M=()=>{d.value=!0;const{length:R}=f.value;if(R===0)return;const S=f.value.findIndex(A=>A.name===u.value);if(S===0){const A=f.value[R-1].name;u.value===A&&R>1?(u.value=f.value[R-2].name,E(R-2)):(u.value=A,E(R-1))}else u.value=f.value[S-1].name,E(S-1)},F=()=>{d.value=!0;const{length:R}=f.value;if(R===0)return;const S=f.value.map(A=>A.name).lastIndexOf(u.value);if(S===R-1){const A=f.value[0].name;u.value===A&&R>1?(u.value=f.value[1].name,E(1)):(u.value=A,E(0))}else u.value=f.value[S+1].name,E(S+1)},W=()=>{var O;const{length:R}=f.value;if(R===0)return;const S=u.value,A=(O=f.value.find(G=>G.name===S))==null?void 0:O.path;if(A&&ke(A)){window.open(A,"_blank","noopener, noreferrer");return}if(!S){we.warning(e("warning_message_unique_name",{keyword:"Name"}));return}try{o.push({name:S})}catch{we.error(e("mandatory_dynamic_parameters"));return}$()},Z=()=>{d.value=!1};return(R,S)=>{const A=y("SvgIcon"),O=y("el-input"),G=y("el-empty"),ne=y("el-dialog");return p(),x(ne,{modelValue:t.value,"onUpdate:modelValue":S[2]||(S[2]=k=>t.value=k),onOpened:S[3]||(S[3]=k=>{var T;return(T=n.value)==null?void 0:T.focus()}),onClosed:S[4]||(S[4]=k=>{var T;return(T=n.value)==null?void 0:T.blur()}),onKeydown:[ve(M,["up"]),ve(F,["down"]),ve(W,["enter"])],onKeyup:ve(Z,["up","down"]),"before-close":$,width:_.value,top:"5vh",class:"search-modal__private","append-to-body":""},{footer:g(()=>[m(mo,{total:f.value.length},null,8,["total"])]),default:g(()=>[m(O,{ref_key:"inputRef",ref:n,modelValue:c.value,"onUpdate:modelValue":S[0]||(S[0]=k=>c.value=k),onInput:i(v),placeholder:i(e)("search_menu"),size:"large",clearable:""},{prefix:g(()=>[m(A,{name:"search"})]),_:1},8,["modelValue","onInput","placeholder"]),f.value.length===0?(p(),x(G,{key:0,description:i(e)("No_search_results_available"),"image-size":100},null,8,["description"])):(p(),C(j,{key:1},[w("p",null,V(i(e)("search_results")),1),m(i(rt),{ref_key:"scrollbarRef",ref:a,"max-height":"40vh",always:""},{default:g(()=>[m(ro,{ref_key:"searchResultRef",ref:l,modelValue:u.value,"onUpdate:modelValue":S[1]||(S[1]=k=>u.value=k),list:f.value,isPressUpOrDown:d.value,onClick:W},null,8,["modelValue","list","isPressUpOrDown"])]),_:1},512)],64))]),_:1},8,["modelValue","width"])}}}),vo=D({__name:"index",setup(s){const{t:e}=X(),t=N(!1),o=()=>{t.value=!0};return(r,n)=>{const a=y("SvgIcon"),l=y("el-tooltip");return p(),C("div",null,[m(l,{effect:"dark",content:i(e)("search_menu"),placement:"bottom"},{default:g(()=>[m(a,{name:"search",onClick:o,"aria-hidden":!1})]),_:1},8,["content"]),m(_o,{modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=c=>t.value=c)},null,8,["modelValue"])])}}}),ho=z(vo,[["__scopeId","data-v-e36fb3f9"]]),go={class:"navigation-bar"},bo={class:"right-menu"},yo={class:"mr-10px"},wo={class:"right-menu-avatar"},ko={target:"_blank",href:"https://github.com/durunsong/kilyicms"},xo={target:"_blank",href:"https://gitee.com/durunsong/kilyicms"},So={style:{display:"block"}},Co=D({__name:"index",setup(s){const{t:e}=X(),{isMobile:t}=de(),{isTop:o}=fe(),r=_e(),n=ue(),a=Ct(),l=Y(),{showNotify:c,showThemeSwitch:f,showScreenfull:u,showSearchMenu:d}=ie(l),_=()=>{n.toggleSidebar(!1)},h=()=>{a.logout(),r.push("/login")};return(v,b)=>{const $=y("el-tooltip"),E=y("el-avatar"),M=y("el-dropdown-item"),F=y("el-dropdown-menu"),W=y("el-dropdown");return p(),C("div",go,[!i(o)||i(t)?(p(),x(nn,{key:0,"is-active":i(n).sidebar.opened,class:"hamburger",onToggleClick:_},null,8,["is-active"])):P("",!0),!i(o)||i(t)?(p(),x(bn,{key:1,class:"breadcrumb"})):P("",!0),i(o)&&!i(t)?(p(),x(ze,{key:2,class:"sidebar"})):P("",!0),w("div",bo,[i(d)?(p(),x(ho,{key:0,class:"right-menu-item"})):P("",!0),i(u)?(p(),x(pt,{key:1,class:"right-menu-item"})):P("",!0),w("div",yo,[m($,{effect:"dark",content:i(e)("Theme_Mode"),placement:"bottom"},{default:g(()=>[i(f)?(p(),x(zt,{key:0,class:"right-menu-item"})):P("",!0)]),_:1},8,["content"])]),m(to),i(c)?(p(),x(Jn,{key:2,class:"right-menu-item"})):P("",!0),m(W,{class:"right-menu-item"},{dropdown:g(()=>[m(F,null,{default:g(()=>[w("a",ko,[m(M,null,{default:g(()=>b[0]||(b[0]=[K("GitHub")])),_:1})]),w("a",xo,[m(M,null,{default:g(()=>b[1]||(b[1]=[K("Gitee")])),_:1})]),m(M,{divided:"",onClick:h},{default:g(()=>[w("span",So,V(i(e)("log_out")),1)]),_:1})]),_:1})]),default:g(()=>[w("div",wo,[m(E,{icon:i(Rt),size:30},null,8,["icon"]),w("span",null,V(i(a).username),1)])]),_:1})])])}}}),Be=z(Co,[["__scopeId","data-v-3d06f730"]]),$o={class:"select-layout-mode"},To=D({__name:"SelectLayoutMode",setup(s){const{t:e}=X(),{isLeft:t,isTop:o,isLeftTop:r,setLayoutMode:n}=fe();return(a,l)=>{const c=y("el-aside"),f=y("el-header"),u=y("el-main"),d=y("el-container"),_=y("el-tooltip");return p(),C("div",$o,[m(_,{content:i(e)("Left_side_mode")},{default:g(()=>[m(d,{class:H(["layout-mode left",{active:i(t)}]),onClick:l[0]||(l[0]=h=>i(n)(i(re).Left))},{default:g(()=>[m(c),m(d,null,{default:g(()=>[m(f),m(u)]),_:1})]),_:1},8,["class"])]),_:1},8,["content"]),m(_,{content:i(e)("Top_mode")},{default:g(()=>[m(d,{class:H(["layout-mode top",{active:i(o)}]),onClick:l[1]||(l[1]=h=>i(n)(i(re).Top))},{default:g(()=>[m(f),m(u)]),_:1},8,["class"])]),_:1},8,["content"]),m(_,{content:i(e)("mixed_mode")},{default:g(()=>[m(d,{class:H(["layout-mode left-top",{active:i(r)}]),onClick:l[2]||(l[2]=h=>i(n)(i(re).LeftTop))},{default:g(()=>[m(f),m(d,null,{default:g(()=>[m(c),m(u)]),_:1})]),_:1},8,["class"])]),_:1},8,["content"])])}}}),Eo=z(To,[["__scopeId","data-v-14407f7c"]]),Vo={class:"setting-container"},Io={class:"setting-name"},Mo=D({__name:"index",setup(s){const{t:e}=X(),{isLeft:t}=fe(),o=Y(),{showTagsView:r,showLogo:n,fixedHeader:a,showFooter:l,showNotify:c,showThemeSwitch:f,showScreenfull:u,showSearchMenu:d,cacheTagsView:_,showWatermark:h,showGreyMode:v,showColorWeakness:b}=ie(o),$={[e("show_tab_bar")]:r,[e("show_logo")]:n,[e("fixed_header")]:a,[e("show_footer")]:l,[e("show_notifications")]:c,[e("show_theme_switch_button")]:f,[e("show_fullscreen_button")]:u,[e("show_search_button")]:d,[e("cache_tab_bar")]:_,[e("enable_watermark")]:h,[e("show_gray_mode")]:v,[e("show_weak_mode")]:b};return ye(()=>{!t.value&&(a.value=!0)}),(E,M)=>{const F=y("el-divider"),W=y("el-switch"),Z=y("el-button");return p(),C("div",Vo,[w("h4",null,V(i(e)("Layout_configuration")),1),m(Eo),m(F),w("h4",null,V(i(e)("functional_configuration")),1),(p(),C(j,null,te($,(R,S,A)=>w("div",{class:"setting-item",key:A},[w("span",Io,V(S),1),m(W,{modelValue:R.value,"onUpdate:modelValue":O=>R.value=O,disabled:!i(t)&&S===i(e)("fixed_header")},null,8,["modelValue","onUpdate:modelValue","disabled"])])),64)),m(Z,{type:"danger",icon:i(At),onClick:i(Rn)},{default:g(()=>[K(V(i(e)("Reset_layout")),1)]),_:1},8,["icon","onClick"])])}}}),Lo=z(Mo,[["__scopeId","data-v-8d970331"]]),Ro={class:"scroll-container"},Ao=200,Po=D({__name:"ScrollPane",props:{tagRefs:{}},setup(s){const e=s,t=xe(),o=Y(),{listenerRouteChange:r}=$e(),n=N(),a=N();let l=0;const c=({scrollLeft:h})=>{l=h},f=({deltaY:h})=>{/^-/.test(h.toString())?d("left"):d("right")},u=()=>{const h=a.value.clientWidth,v=n.value.wrapRef.clientWidth,b=h-v-l;return{scrollbarContentRefWidth:h,scrollbarRefWidth:v,lastDistance:b}},d=(h,v=Ao)=>{let b=0;const{scrollbarContentRefWidth:$,scrollbarRefWidth:E,lastDistance:M}=u();E>$||(h==="left"?b=Math.max(0,l-v):b=Math.min(l+v,l+M),n.value.setScrollLeft(b))},_=()=>{const h=e.tagRefs;for(let v=0;v<h.length;v++)if(t.path===h[v].$props.to.path){const b=h[v].$el,$=b.offsetWidth,E=b.offsetLeft,{scrollbarRefWidth:M}=u();if(E<l){const W=l-E;d("left",W);return}const F=M+l-$;if(E>F){const W=E-F;d("right",W);return}}};return r(()=>{yt(_)}),(h,v)=>{const b=y("el-icon");return p(),C("div",Ro,[m(b,{class:"arrow left",onClick:v[0]||(v[0]=$=>d("left"))},{default:g(()=>[m(i(Pt))]),_:1}),m(i(rt),{ref_key:"scrollbarRef",ref:n,onWheelPassive:f,onScroll:c},{default:g(()=>[w("div",{ref_key:"scrollbarContentRef",ref:a,class:"scrollbar-content"},[be(h.$slots,"default",{},void 0,!0)],512)]),_:3},512),m(b,{class:"arrow right",onClick:v[1]||(v[1]=$=>d("right"))},{default:g(()=>[m(i(Dt))]),_:1}),i(o).showScreenfull?(p(),x(pt,{key:0,content:!0,class:"screenfull"})):P("",!0)])}}}),Do=z(Po,[["__scopeId","data-v-928c9039"]]),Fo={class:"tags-view-container"},No=D({__name:"index",setup(s){const{t:e}=X(),t=nt(),o=_e(),r=xe(),n=at(),a=Re(),{listenerRouteChange:l}=$e(),c=N([]),f=N(!1),u=N(0),d=N(0),_=N({});let h=[];const v=k=>k.path===r.path,b=k=>{var T;return(T=k.meta)==null?void 0:T.affix},$=(k,T="/")=>{const U=[];return k.forEach(L=>{if(b(L)){const B=ft.resolve(T,L.path);U.push({fullPath:B,path:B,name:L.name,meta:{...L.meta}})}if(L.children){const B=$(L.children,L.path);U.push(...B)}}),U},E=()=>{h=$(a.routes);for(const k of h)k.name&&n.addVisitedView(k)},M=k=>{k.name&&(n.addVisitedView(k),n.addCachedView(k))},F=k=>{n.delCachedView(k),o.replace({path:"/redirect"+k.path,query:k.query})},W=k=>{n.delVisitedView(k),n.delCachedView(k),v(k)&&O(n.visitedViews,k)},Z=()=>{const k=_.value.fullPath;k!==r.path&&k!==void 0&&o.push(k),n.delOthersVisitedViews(_.value),n.delOthersCachedViews(_.value)},R=k=>{n.delAllVisitedViews(),n.delAllCachedViews(),!h.some(T=>T.path===r.path)&&O(n.visitedViews,k)},S=k=>{const T=n.visitedViews.findIndex(U=>U.path===k.path);T>0&&n.visitedViews.slice(0,T).forEach(L=>{b(L)||(n.delVisitedView(L),n.delCachedView(L))}),v(r)&&O(n.visitedViews,k)},A=k=>{const T=n.visitedViews.findIndex(U=>U.path===k.path);if(T>=0)if(n.visitedViews.slice(T+1).forEach(B=>{b(B)||(n.delVisitedView(B),n.delCachedView(B))}),n.visitedViews.some(B=>B.path===r.path)){if(T<n.visitedViews.findIndex(B=>B.path===r.path)){const B=Math.max(T,0),Q=n.visitedViews[B];Q&&o.push(Q.fullPath)}}else{const Q=n.visitedViews.slice(0,T+1).slice(-1)[0];Q?o.push(Q.fullPath):o.push("/")}},O=(k,T)=>{const U=k.slice(-1)[0],L=U==null?void 0:U.fullPath;L!==void 0?o.push(L):T.name==="Dashboard"?o.push({path:"/redirect"+T.path,query:T.query}):o.push("/")},G=(k,T)=>{const L=t.proxy.$el.getBoundingClientRect().left,Q=t.proxy.$el.offsetWidth-105,Ue=T.clientX-L+15;d.value=Ue>Q?Q:Ue,u.value=T.clientY,f.value=!0,_.value=k},ne=()=>{f.value=!1};return Me(f,k=>{k?document.body.addEventListener("click",ne):document.body.removeEventListener("click",ne)}),Le(()=>{E(),l(async k=>{M(k)},!0)}),(k,T)=>{const U=y("el-icon");return p(),C("div",Fo,[m(Do,{class:"tags-view-wrapper","tag-refs":c.value},{default:g(()=>[(p(!0),C(j,null,te(i(n).visitedViews,L=>(p(),x(i(wt),{ref_for:!0,ref_key:"tagRefs",ref:c,key:L.path,class:H([{active:v(L)},"tags-view-item"]),to:{path:L.path,query:L.query},onMouseup:he(B=>!b(L)&&W(L),["middle"]),onContextmenu:he(B=>G(L,B),["prevent"])},{default:g(()=>{var B;return[K(V(i(e)((B=L.meta)==null?void 0:B.title))+" ",1),b(L)?P("",!0):(p(),x(U,{key:0,size:12,onClick:he(Q=>W(L),["prevent","stop"])},{default:g(()=>[m(i(Ft))]),_:2},1032,["onClick"]))]}),_:2},1032,["class","to","onMouseup","onContextmenu"]))),128))]),_:1},8,["tag-refs"]),Se(w("ul",{class:"contextmenu",style:ot({left:d.value+"px",top:u.value+"px"})},[w("li",{onClick:T[0]||(T[0]=L=>F(_.value))},V(i(e)("refresh")),1),b(_.value)?P("",!0):(p(),C("li",{key:0,onClick:T[1]||(T[1]=L=>W(_.value))},V(i(e)("Close_current")),1)),w("li",{onClick:Z},V(i(e)("close_others")),1),w("li",{onClick:T[2]||(T[2]=L=>S(_.value))},V(i(e)("close_left")),1),w("li",{onClick:T[3]||(T[3]=L=>A(_.value))},V(i(e)("close_right")),1),w("li",{onClick:T[4]||(T[4]=L=>R(_.value))},V(i(e)("close_all")),1)],4),[[Ce,f.value]])])}}}),We=z(No,[["__scopeId","data-v-d9b85fa3"]]),zo=D({__name:"index",props:{buttonTop:{default:350}},setup(s){et(r=>({"5591a45b":t}));const t=s.buttonTop+"px",o=N(!1);return(r,n)=>{const a=y("el-icon"),l=y("el-drawer");return p(),C(j,null,[w("div",{class:"handle-button",onClick:n[0]||(n[0]=c=>o.value=!0)},[m(a,{size:24},{default:g(()=>[m(i(Nt))]),_:1})]),m(l,{modelValue:o.value,"onUpdate:modelValue":n[1]||(n[1]=c=>o.value=c),size:"300px","with-header":!1},{default:g(()=>[be(r.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue"])],64)}}}),Bo=z(zo,[["__scopeId","data-v-35aa0454"]]),Wo=D({__name:"LeftMode",setup(s){const{isMobile:e}=de(),t=ue(),o=Y(),{showTagsView:r,fixedHeader:n}=ie(o),a=I(()=>({hideSidebar:!t.sidebar.opened,openSidebar:t.sidebar.opened,withoutAnimation:t.sidebar.withoutAnimation,mobile:e.value})),l=()=>{t.closeSidebar(!1)};return(c,f)=>(p(),C("div",{class:H([a.value,"app-wrapper"])},[a.value.mobile&&a.value.openSidebar?(p(),C("div",{key:0,class:"drawer-bg",onClick:l})):P("",!0),m(i(ze),{class:"sidebar-container"}),w("div",{class:H([{hasTagsView:i(r)},"main-container"])},[w("div",{class:H([{"fixed-header":i(n)},"layout-header"])},[m(i(Be)),Se(m(i(We),null,null,512),[[Ce,i(r)]])],2),m(i(Ae),{class:"app-main"})],2)],2))}}),Uo=z(Wo,[["__scopeId","data-v-64707f11"]]),Oo={class:"app-wrapper"},qo={class:"fixed-header layout-header"},Ho={class:"content"},jo=D({__name:"TopMode",setup(s){const e=Y(),{showTagsView:t,showLogo:o}=ie(e);return(r,n)=>(p(),C("div",Oo,[w("div",qo,[w("div",Ho,[i(o)?(p(),x(i(Ne),{key:0,collapse:!1,class:"logo"})):P("",!0),m(i(Be),{class:"navigation-bar"})]),Se(m(i(We),null,null,512),[[Ce,i(t)]])]),w("div",{class:H([{hasTagsView:i(t)},"main-container"])},[m(i(Ae),{class:"app-main"})],2)]))}}),Xo=z(jo,[["__scopeId","data-v-47a3569b"]]),Ko={class:"fixed-header layout-header"},Go={class:"content"},Jo=D({__name:"LeftTopMode",setup(s){const e=ue(),t=Y(),{showTagsView:o,showLogo:r}=ie(t),n=I(()=>({hideSidebar:!e.sidebar.opened}));return(a,l)=>(p(),C("div",{class:H([n.value,"app-wrapper"])},[w("div",Ko,[i(r)?(p(),x(i(Ne),{key:0,collapse:!1,class:"logo"})):P("",!0),w("div",Go,[m(i(Be)),Se(m(i(We),null,null,512),[[Ce,i(o)]])])]),w("div",{class:H([{hasTagsView:i(o)},"main-container"])},[m(i(ze),{class:"sidebar-container"}),m(i(Ae),{class:"app-main"})],2)],2))}}),Yo=z(Jo,[["__scopeId","data-v-376a7a73"]]),Ie="--kilyicms-tagsview-height",Zo=D({__name:"index",setup(s){Ut();const{setWatermark:e,clearWatermark:t}=$t(),{isMobile:o}=de(),{isLeft:r,isTop:n,isLeftTop:a}=fe(),l=Y(),{showSettings:c,showTagsView:f,showWatermark:u,showGreyMode:d,showColorWeakness:_}=ie(l),h=I(()=>({showGreyMode:d.value,showColorWeakness:_.value})),v=ge(Ie);return ye(()=>{f.value?Xe(Ie,v):Xe(Ie,"0px")}),ye(()=>{u.value?e("文心一言"):t()}),(b,$)=>(p(),C("div",{class:H(h.value)},[i(r)||i(o)?(p(),x(Uo,{key:0})):i(n)?(p(),x(Xo,{key:1})):i(a)?(p(),x(Yo,{key:2})):P("",!0),i(c)?(p(),x(i(Bo),{key:3},{default:g(()=>[m(i(Lo))]),_:1})):P("",!0)],2))}}),ss=z(Zo,[["__scopeId","data-v-780c6b2a"]]);export{ss as default};
